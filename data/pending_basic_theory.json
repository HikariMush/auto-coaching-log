[
  {
    "category": "Cスティック",
    "axioms": "### 大乱闘スマッシュブラザーズSP：Cスティック入力仕様の公理系\n\n#### 1. 複合入力と優先権の公理\nCスティックの入力信号 $S_{C}$ は、独立したボタンではなく、方向入力とボタン入力の複合マクロとして定義される。\n$$ S_{C} \\equiv \\vec{V}_{C} + B_{macro} $$\nここで $\\vec{V}_{C}$ はLスティックとして処理されるベクトル、$B_{macro}$ は設定依存のボタン（攻撃/必殺）である。\n*   **優先上書き:** $S_{C}$ の入力フレーム中は、物理的なLスティック入力 $\\vec{V}_{L}$ は無視され、$\\vec{V}_{C}$ がファイターの座標移動および技の方向指定に適用される。\n\n#### 2. 入力持続時間のクランプ公理\n物理的なCスティックのホールド時間 $T_{phys}$ に関わらず、内部的に有効な入力持続時間 $T_{internal}$ は設定された上限値 $T_{max}$ で打ち切られる。\n$$ T_{internal} = \\min(T_{phys}, T_{max}) $$\n*   **C攻撃（強攻撃）:** $T_{max} = 3$ [F]\n*   **Cスマッシュ/必殺:** $T_{max} = 4$ [F]\n\n#### 3. アナログ出力値と判定閾値の公理\nCスティックの倒し込みによる出力ベクトルノルム $|\\vec{V}_{C}|$ は、設定により固定値をとる。アクション $A$ の発生は、その要求閾値 $Th_{A}$ との大小関係により決定される。\n*   **出力値定義:**\n    *   $|\\vec{V}_{C\\_Tilt}| = 0.625$ (内部値 75)\n    *   $|\\vec{V}_{C\\_Smash}| \\approx 0.833$ (内部値 100)\n*   **判定論理:**\n    *   **スマッシュ攻撃 ($Th_{Smash} = 0.725$):**\n        *   C攻撃: $0.625 < 0.725 \\implies$ 強攻撃発生\n        *   Cスマッシュ: $0.833 \\ge 0.725 \\implies$ スマッシュ発生\n    *   **シールドキャンセル行動 ($Th_{Cancel} = 0.7$):**\n        *   C攻撃: $0.625 < 0.7 \\implies$ つかみ発生（回避不可）\n        *   Cスマッシュ: $0.833 \\ge 0.7 \\implies$ 回避/ジャンプ発生\n\n#### 4. 参照先回帰と暴発の公理\nアクション発生までの待機時間（硬直や先行入力消費）$T_{wait}$ が、Cスティックの有効持続時間 $T_{internal}$ を超過した場合、方向指定の参照先は物理的なLスティック $\\vec{V}_{L}$ に回帰する。\n$$ T_{wait} > T_{internal} \\implies \\text{ActionDirection} = \\vec{V}_{L} $$\nこれにより、Cスティックを入力したにも関わらず、Lスティックがニュートラルの場合はN空中攻撃が、倒している場合はその方向の攻撃が暴発する。\n\n#### 5. ニュートラルリセットとリリース入力の公理\n*   **再入力制限:** Cスティックによる次の入力を発生させるには、一度スティックをニュートラル位置（中心）に戻す必要がある。\n*   **リリース入力:** Cスティックをホールド状態からニュートラルに戻した瞬間 ($T_{release}$)、直前の入力方向に対して1フレーム分の入力信号が発生する。\n    $$ \\text{State}(T_{release}) = \\text{Neutral} \\implies \\text{Output} = \\vec{V}_{prev} \\text{ (for 1F)} $$"
  },
  {
    "category": "ずらし",
    "axioms": "1.  **SDI Classification & Trigger Conditions**\n    *   **Hitstop SDI:** Triggered by directional stick input during the hitstop (freeze frames) of an attack. Visualized by a white effect.\n    *   **Shield SDI:** Triggered by directional stick input during shield stop or perfect shield (parry) lag.\n    *   **Automatic SDI (ASDI):** Triggered automatically under specific conditions: moves with a Hitstop Multiplier of $0.0$, or specific attributes (Electric, Paralyze, Focus Attack).\n        *   *Timing:* Typically occurs at the moment of impact. For Electric/Paralyze attributes, it occurs twice: at the moment of impact and at the end of hitstop.\n\n2.  **Displacement Calculation Logic**\n    *   The displacement distance $D$ is calculated as:\n        $$ D = V_{\\text{input}} \\times M_{\\text{type}} \\times M_{\\text{SDI}} \\times M_{\\text{continuous}} $$\n    *   **Input Vector ($V_{\\text{input}}$):** Derived from stick coordinates.\n        *   Standard: $\\sqrt{\\text{StickX}^2 + \\text{StickY}^2}$\n        *   Shield SDI: $|\\text{StickX}|$ (Y-component is strictly ignored).\n    *   **Type Multiplier ($M_{\\text{type}}$):**\n        *   Hitstop SDI: $2.0$\n        *   Shield SDI: $2.0 \\times 0.66$ (Effective $\\approx 1.32$ relative to base stick, or $0.66$ relative to Hitstop SDI base).\n        *   ASDI: $0.65$\n\n3.  **Input Registration & Optimization**\n    *   **Detection:** An SDI input is registered only when a directional component (Up, Down, Left, Right) is *newly added* to the current input state.\n    *   **Magnitude:** L-Stick input provides maximum magnitude. C-Stick (Smash) input is valid but yields a lower magnitude value than a maximal L-Stick tilt.\n    *   **Optimization (Half-Moon/Ginkgo):** Inputs tracing an arc of $60^\\circ \\sim 90^\\circ$ relative to the target direction are axiomatically more efficient than neutral-return inputs, as they continuously add/remove components without zeroing the vector.\n\n4.  **Temporal Constraints & Frequency Limits**\n    *   **Hitstop SDI:**\n        *   **Frequency:** Limited to once every $4$ frames.\n        *   **Buffer System:** Inputs detected during the $4\\text{F}$ lockout are stored and applied on the $5\\text{th}$ frame (immediate application upon restriction lift).\n        *   **Cap:** Maximum $16$ inputs per single hitstop event.\n    *   **Shield SDI:** No frequency limit (theoretically $1$ input per frame) and no maximum count limit.\n\n5.  **State & Environmental Constraints**\n    *   **Collision:** SDI cannot move a character into terrain (walls/floors).\n    *   **Grounded Locking:**\n        *   If the character is grounded and the knockback type is grounded: Upward SDI (transition to air) is forbidden.\n        *   If the initial SDI input contains an X-component, subsequent Y-components are ignored during that sequence.\n    *   **Anti-Infinite Logic (20-Hit Rule):** If the character sustains $\\ge 20$ consecutive hits, Grounded Locking is disabled, allowing upward SDI to transition from ground to air.\n\n6.  **Variable Multipliers**\n    *   **SDI Multiplier ($M_{\\text{SDI}}$):** A discrete value assigned to every hitbox. $0.0$ disables SDI. High values are assigned to escapable moves; low values to multi-hits.\n    *   **Continuous Hit Multiplier ($M_{\\text{continuous}}$):** Applies only when grounded.\n        *   Base: $1.0$\n        *   Increment: Multiplies by $1.15$ for every $5$ consecutive hits received."
  },
  {
    "category": "たおれ_ダウン",
    "axioms": "[\n  {\n    \"category\": \"Physics_State_Down\",\n    \"axiom_name\": \"Down State Lifecycle\",\n    \"content\": \"Upon contacting the ground after a tumble or slip without performing a tech (Ukemi), a fighter enters the Down sequence. 1. **Bounce Motion**: Lasts 25F (applies to both supine and prone). 2. **Idle State**: Follows Bounce. Lasts up to 220F. 3. **Forced Getup**: Automatically triggers a neutral getup if the fighter remains in Idle State for 220F.\",\n    \"exceptions\": \"If vertical velocity is high (e.g., Meteor Smash), the fighter bounces high instead of entering the standard Bounce Motion.\"\n  },\n  {\n    \"category\": \"Mechanics_JabLock\",\n    \"axiom_name\": \"Jab Lock (Down Ren) Trigger Conditions\",\n    \"content\": \"A Jab Lock is triggered when an attack hits a fighter in 'Bounce Motion' or 'Idle State' and meets all following criteria: 1. **Knockback (KB)**: $7 \\le KB < 80$. 2. **Angle**: Horizontal ($180^\\circ \\le \\theta \\le 360^\\circ$). For Sakurai Angle (361), KB must be < 60. 3. **Vector**: Must not be within $35^\\circ \\le \\phi \\le 145^\\circ$ relative to the terrain slope. 4. **Loop Count**: The fighter has been locked fewer than 2 consecutive times.\",\n    \"notes\": \"Terrain slopes (e.g., Pokemon Stadium 2 edges) can invalidate the vector condition.\"\n  },\n  {\n    \"category\": \"Mechanics_JabLock\",\n    \"axiom_name\": \"Jab Lock State Properties\",\n    \"content\": \"Upon a successful Jab Lock trigger, the victim enters the 'Down Damage Motion'. This state lasts 39F, during which the victim is actionable-incapable. A 3rd successful lock hit, or a hit exceeding the KB/Angle limits, forces the victim into a standing flinch or launch, ending the Down state.\"\n  },\n  {\n    \"category\": \"Interaction_Rules\",\n    \"axiom_name\": \"Down State Immunities\",\n    \"content\": \"Fighters in the Down state (Bounce, Idle, or Down Damage) are immune to: 1. Standard Grabs and Special Grabs. 2. Attacks with the 'Bury' property. 3. Specific capture-type hitboxes (e.g., Incineroar Side-B/Down-B, Joker Down-B true hit, Terry Buster Wolf Hit 1).\"\n  },\n  {\n    \"category\": \"Character_Specific_Snake\",\n    \"axiom_name\": \"Snake Down Throw Calculation\",\n    \"content\": \"Snake's Down Throw forces a supine down state (unless at ledge). The wake-up animation duration depends on the victim's total damage. Damage calculation for threshold: $Damage = Base(9\\%) \\times 1.05(1on1) \\times 1.2(OP\\_Bonus) \\approx 11.34\\%$. Advantage frames increase with victim damage: 119% (+3F), 136% (+4F), 153% (+5F), 170% (+6F). At ledge, the victim is thrown into the air, leaving Snake at -6F disadvantage.\"\n  },\n  {\n    \"category\": \"Character_Specific_FGC\",\n    \"axiom_name\": \"Crumple to Down Transitions\",\n    \"content\": \"Specific moves cause a 'Crumple' collapse leading to a hard down. 1. **Ryu/Ken Down-B (Focus)**: Lvl 2 or 3 hit leads to Prone Down. Advantage varies by level and dash-cancel (e.g., Ryu Max Charge Dash Cancel = +69F). 2. **Ridley Down-B (Skewer)**: Sweetspot leads to Supine Down. Advantage: -4F (Ground), 0F (Air).\"\n  },\n  {\n    \"category\": \"Physics_Exceptions\",\n    \"axiom_name\": \"Untechable Down Triggers\",\n    \"content\": \"The following specific move outcomes result in an untechable down state: Incineroar Up-B/Side-B (Crash), Luigi Side-B (Crash), Jigglypuff Side-B (Crash/Fail).\"\n  }\n]"
  },
  {
    "category": "つかみ",
    "axioms": "[\n  {\n    \"category\": \"Grab Definition & Collision\",\n    \"axioms\": [\n      {\n        \"definition\": \"A grab is established when an Attacker's Grab Box overlaps with a Defender's Grabbable Hurtbox.\",\n        \"constraints\": [\n          \"The Defender must not be positioned behind the Attacker.\",\n          \"Aerial grab boxes typically have ~50% of the vertical height of ground grab boxes.\"\n        ]\n      },\n      {\n        \"simultaneous_collision\": \"If two fighters grab on the same frame, the winner is determined randomly.\",\n        \"exception\": \"Specific moves (e.g., Isabelle Side-B) resolve ties based on Port Priority (lower port wins).\"\n      }\n    ]\n  },\n  {\n    \"category\": \"Grab Duration (拘束時間)\",\n    \"axioms\": [\n      {\n        \"formula\": \"Total Grab Time (T) in frames is calculated as T = floor(90 + 1.7 * d), where 'd' is the opponent's accumulated damage percentage.\",\n        \"depletion_rules\": [\n          \"Time T decreases even during the Hitstop of pummel attacks.\",\n          \"Inflicting damage via pummels does not extend the current grab instance's time T.\",\n          \"The victim flashes yellow when remaining T <= 180 frames.\"\n        ]\n      },\n      {\n        \"mashing_reduction\": \"Victim inputs reduce T by specific amounts per input.\",\n        \"values\": {\n          \"stick_input\": \"-8 frames\",\n          \"button_input\": \"-14.4 frames\"\n        }\n      }\n    ]\n  },\n  {\n    \"category\": \"Pummel Mechanics (つかみ打撃)\",\n    \"axioms\": [\n      {\n        \"property\": \"Pummeling refreshes the One-Pattern (OP) Staling queue multiple times per input.\"\n      },\n      {\n        \"frame_data_classes\": {\n          \"heavyweight\": { \"startup\": 2, \"total\": 7, \"damage_base\": 1.6, \"hitstop\": 16, \"dps\": 4.364 },\n          \"mediumweight\": { \"startup\": 1, \"total\": 6, \"damage_base\": 1.3, \"hitstop\": 14, \"dps\": 4.015 },\n          \"lightweight\": { \"startup\": 1, \"total\": 5, \"damage_base\": 1.0, \"hitstop\": 11, \"dps\": 4.000 }\n        }\n      }\n    ]\n  },\n  {\n    \"category\": \"Grab Tech (つかみ相殺)\",\n    \"axioms\": [\n      {\n        \"conditions\": [\n          \"Both fighters' grab boxes touch the opponent's hurtbox.\",\n          \"Both fighters are capable of teching.\",\n          \"Fighters are facing each other.\"\n        ],\n        \"window\": \"Generally active from 1 frame prior to Grab Box generation until the Grab Box disappears (Exceptions apply, e.g., Pac-Man, Villager).\",\n        \"outcome\": {\n          \"damage\": \"1.0% (Base) to both fighters.\",\n          \"state\": \"11 frames Hitstop + 15 frames Tech Animation.\"\n        }\n      }\n    ]\n  },\n  {\n    \"category\": \"Grab Release (つかみ抜け)\",\n    \"axioms\": [\n      {\n        \"frame_advantage\": \"Both Attacker and Defender undergo a 29-frame animation. The situation is neutral (0 frame advantage).\",\n        \"types\": [\n          {\n            \"name\": \"Standard Release (Time-out)\",\n            \"subtypes\": [\n              \"Ground Release: Default form.\",\n              \"Jump Release: Occurs if airborne, at ledge, significant height difference (e.g., Wii Fit Trainer vs small char), 4+ jump inputs during grab, or grabbed by Yoshi.\"\n            ]\n          },\n          {\n            \"name\": \"Forced Release (Interruption)\",\n            \"trigger\": \"Simultaneous hit/grab trade, Grabber is launched, Victim takes >=10% damage from 3rd party, or excessive separation.\",\n            \"effect\": \"Victim takes 3.0% damage (Base).\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"category\": \"Immunities & Special States\",\n    \"axioms\": [\n      {\n        \"ungrappable_conditions\": [\n          \"Timer: 60 frames immediately following a release or throw.\",\n          \"Status: Frozen, Buried, Downed.\",\n          \"Action: Currently holding another fighter or performing a throw.\",\n          \"Specific Moves: Kirby/Dedede/K.Rool Neutral-B (active), Ridley Side-B (dash), Dedede Up-B (start).\"\n        ]\n      },\n      {\n        \"hurtbox_exclusion\": \"Body parts categorized as 'etc' (e.g., extended limbs, tails, shields, tanks, wings) cannot be grabbed.\",\n        \"grab_armor\": \"Specific command grabs (e.g., Bowser Side-B) possess armor that allows the grab to succeed even if the attacker takes damage on the same frame as the grab connects.\"\n      }\n    ]\n  }\n]"
  },
  {
    "category": "ぬるり_押し合い",
    "axioms": "[\n  {\n    \"id\": \"phys_interaction_types\",\n    \"content\": \"Character collision physics are divided into two distinct phenomena: 'Nururi' (ECB Overlap) and 'Jostle' (Pushing). 'Nururi' occurs when Environmental Collision Boxes (ECB) overlap and applies to all state combinations (Ground/Air). 'Jostle' prevents characters from passing through each other and applies strictly to Ground vs. Ground interactions.\"\n  },\n  {\n    \"id\": \"phys_team_exception\",\n    \"content\": \"Regardless of Team Attack settings, teammates do not generate 'Jostle' physics; they only interact via 'Nururi' physics.\"\n  },\n  {\n    \"id\": \"phys_nururi_velocity_x\",\n    \"content\": \"The maximum pushback velocity ($V_{max}$) on the X-axis caused by Nururi is determined by the state combination of the Self and Enemy. Ground/Ground = 0.7, Ground/Air = 0.15, Air/Ground = 0.6, Air/Air = 0.4 (unit: cm/F). Velocity scales with overlap depth.\"\n  },\n  {\n    \"id\": \"phys_nururi_velocity_z\",\n    \"content\": \"The pushback velocity on the Z-axis (depth) caused by Nururi is fixed at 0.1 cm/F, with a maximum push distance of 0.5.\"\n  },\n  {\n    \"id\": \"phys_jostle_force\",\n    \"content\": \"Jostle force is calculated based on the fighter's movement speed and 'Jostle Strength' ($P_{jostle}$). A larger differential in $P_{jostle}$ results in a stronger push. $P_{jostle}$ generally correlates with weight but is a distinct parameter (e.g., fighters of equal weight may have different $P_{jostle}$ values).\"\n  },\n  {\n    \"id\": \"geo_ecb_definition\",\n    \"content\": \"The ECB (Environmental Collision Box) is a diamond-shaped region used for Nururi physics, terrain collision (walls/floors), footstool detection, and UI positioning. Footstools occur when the user's footstool region touches the opponent's ECB.\"\n  },\n  {\n    \"id\": \"geo_jostle_box_definition\",\n    \"content\": \"The Jostle Box is defined by extending the ECB along the X-axis using `jostle_front` and `jostle_back` parameters. It is typically thicker in the front. The box deforms dynamically to match animation changes (ECB deformation).\"\n  },\n  {\n    \"id\": \"geo_jostle_box_exceptions\",\n    \"content\": \"Meta Knight has an extension parameter of 0.0, making his Jostle Box identical to his ECB. Ice Climbers have distinct regions for the main climber and the partner.\"\n  },\n  {\n    \"id\": \"state_jostle_disable_general\",\n    \"content\": \"Jostle physics are disabled (allowing pass-through) during most invincible actions (Rolls, Ledge Getup, Trip) from Frame 1 until the action ends. However, Down/Trip Getups (Neutral/Attack) and Ground Techs (In-place) do *not* disable Jostle.\"\n  },\n  {\n    \"id\": \"state_jostle_disable_combat\",\n    \"content\": \"Jostle physics are disabled for 8 frames immediately following the end of Hitstop (Guardstop). They are also disabled during specific movement special moves or attacks with thin hitboxes (e.g., Up Smash, Up Special) to facilitate connection.\"\n  }\n]"
  },
  {
    "category": "ふっとばし力",
    "axioms": "1.  **ふっとばし力の構成パラメータ**\n    ふっとばし力（KB）は、攻撃判定ごとに設定された以下のパラメータによって決定される。\n    *   **KBG (Knock-Back Growth)**: 蓄積ダメージ（%）に比例して増加するふっとばしの伸び率。\n    *   **BKB (Base Knock-Back)**: 蓄積ダメージに依存しない基礎ふっとばし値。\n    *   **FKB (Fixed Knock-Back)**: 設定されている場合、相手の%や重量補正の一部を無視する固定ふっとばし値。\n\n2.  **重量補正係数 ($W'$)**\n    被ふっとばし側の重量 $w$ に基づき、以下の係数が計算に用いられる。\n    $$W' = \\frac{100 + w}{200}$$\n    *   ただし、**SetWeight=True** のワザ（多段、埋め、麻痺など）およびチコへの攻撃においては、$w=100$ ($W'=1$) として扱われる。\n\n3.  **計算用ダメージ ($d$) の定義**\n    計算式に用いるダメージ $d$ は、実際の与ダメージとは異なり、以下の規則に従う。\n    *   **OP相殺**: ダメージ減少分の0.3倍のみが $d$ に反映される（影響が軽減される）。\n    *   **タイプ1補正（小J、1on1、巨塔等）**: $d$ には**補正前**の値が使用される（ふっとばしへの影響小）。\n    *   **タイプ2補正（スマッシュホールド、カウンター等）**: $d$ には**補正後**の値が使用される（ふっとばしへの影響大）。\n\n4.  **通常ふっとばし計算式**\n    FKBが設定されていない場合、KBは以下の構造で算出される。\n    $$KB = \\left[ \\left\\{ (0.1 + d \\times 0.05) \\times \\frac{p}{W'} \\times 1.4 + 18 \\right\\} \\times \\frac{KBG}{100} + BKB \\right] \\times r$$\n    *   $p$: ヒット後の敵蓄積ダメージ（1on1補正適用前）。\n    *   $r$: 各種倍率（ほかほか補正含む）。\n\n5.  **固定ふっとばし（FKB）の特例**\n    FKBが設定されている場合、以下の固定値を代入し、ほかほか補正を無効化する。\n    *   $d \\leftarrow FKB$\n    *   $p \\leftarrow 10$\n    *   $r_{rage} \\leftarrow 1$ (ほかほか補正無視)\n\n6.  **ほかほか補正（Rage）**\n    攻撃側の蓄積ダメージ $p_{self}$ が $35\\% \\le p_{self} \\le 150\\%$ の範囲にある場合、最終KBに対し最大1.1倍の補正がかかる。ただし、FKBワザには適用されない。\n\n7.  **状況別倍率補正**\n    *   **しゃがみ耐性**: 相手がしゃがみ状態の場合、KBは $0.85$ 倍される。\n    *   **対地メテオ**: 地上の相手にメテオ属性を当てた場合、KBは $0.8$ 倍される。\n\n8.  **ヘビーアーマー（耐性）の判定ロジック**\n    *   **しきい値型**: $KB \\le \\text{しきい値}$ ならばふっとび無効（0）、超過すればそのままのKBでふっとぶ。\n    *   **減算型**: $KB_{final} = KB - \\text{減少値}$ を計算し、結果が0以下ならばふっとばない。"
  },
  {
    "category": "ふっとび",
    "axioms": "1.  **The Axiom of Safety**: An agent may not injure a human being or, through inaction, allow a human being to come to harm.\n2.  **The Axiom of Obedience**: An agent must obey the orders given it by human beings, except where such orders would conflict with the Axiom of Safety.\n3.  **The Axiom of Existence**: An agent must protect its own existence as long as such protection does not conflict with the Axiom of Safety or the Axiom of Obedience."
  },
  {
    "category": "ふっとび加速演出",
    "axioms": "### 1. General Principles & Scope\n*   **Axiom 1.1 (Decoupling):** The \"Launch Acceleration\" mechanism decouples the *visual playback speed* of the launch trajectory from the *physical calculation* of that trajectory.\n*   **Axiom 1.2 (Invariant Physics):** The underlying calculation of launch velocity, trajectory coordinates, and total knockback distance remains identical to the standard physics engine (Smash 4 specifications). Only the rate at which the object traverses this path changes.\n*   **Axiom 1.3 (Termination):** The acceleration state is strictly tied to the \"Tumble\" (Hitstun) state. It terminates immediately upon action interruption (Air Dodge, Attack) or when the hitstun timer expires.\n\n### 2. Initialization (Hitstun & Multiplier Calculation)\nUpon receiving a hit, the following values are initialized:\n*   **Axiom 2.1 (Total Hitstun):** $T_{total} = KB \\times 0.4$.\n*   **Axiom 2.2 (Initial Multiplier $M_{init}$):** A scalar value determining the peak playback speed, derived from $T_{total}$.\n    *   If $T_{total} < 30$: $M_{init} = 1.0$.\n    *   If $T_{total} \\ge 80$: $M_{init} = 6.0$.\n    *   Otherwise ($30 \\le T_{total} < 80$):\n        $$ M_{init} = 1.0 + 5.0 \\times \\frac{T_{total} - 30}{50} $$\n\n### 3. Frame Update Process (Time Dilation)\nFor every game frame $t$, the remaining hitstun $T_{now}$ is updated.\n*   **Axiom 3.1 (Current Multiplier $M_{frame}$):** The speed multiplier decays linearly as hitstun depletes, clamping to 1.0 when less than 30% of hitstun remains.\n    $$ M_{frame} = \\max \\left( 1.0, \\quad M_{init} \\times \\frac{T_{now(t)} - 0.3 T_{total}}{0.7 T_{total}} \\right) $$\n*   **Axiom 3.2 (Hitstun Reduction):** The remaining hitstun is reduced by the multiplier, not by fixed time.\n    $$ T_{now(t+1)} = T_{now(t)} - M_{frame} $$\n*   **Axiom 3.3 (Collision Penalty):** If a wall/floor/ceiling collision occurs, the remaining hitstun is instantly reduced.\n    $$ T_{now} \\leftarrow T_{now} \\times 0.8 $$\n\n### 4. Rendering & Interpolation (Coordinate Mapping)\nTo determine the character's position, the system maps the non-integer $T_{now}$ to a specific point on the pre-calculated trajectory.\n*   **Axiom 4.1 (Virtual Time Derivation):** The \"Virtual Frame\" ($t_{virtual}$) represents the index in the standard trajectory array.\n    $$ t_{virtual} = T_{total} - \\lfloor T_{now} \\rfloor $$\n*   **Axiom 4.2 (Sub-frame Delta):** A delta value $\\delta$ is derived for interpolation, specifically using a ceiling round to the first decimal place.\n    Let $rem = T_{total} - T_{now}$.\n    $$ \\delta = \\lceil rem \\times 10 \\rceil / 10 - \\lfloor rem \\rfloor $$\n    *(Note: This effectively quantizes the sub-frame interpolation steps).*\n*   **Axiom 4.3 (Predictive Interpolation):** The render coordinate $X$ is interpolated using the velocity of the *next* integer frame ($V_{i+1}$), creating a \"pulling\" visual effect.\n    $$ X_{render} = X_{i} + V_{i+1} \\times \\delta $$\n    Where $i$ is the integer frame index corresponding to $t_{virtual}$."
  },
  {
    "category": "ふっとび硬直",
    "axioms": "1.  **ふっとび硬直の基本算出**\n    *   ふっとび硬直値（フレーム数）は、受けたふっとばし力（KB）に比例し、以下の式で算出される。\n        $$ \\text{ふっとび硬直値} = \\text{INT}(\\text{KB} \\times 0.4) - 1 $$\n    *   硬直のカウントは、ヒットストップ終了後の翌フレームを1F目として開始する。\n\n2.  **ふっとび加速演出による実時間短縮**\n    *   算出されたふっとび硬直値が $30\\text{F}$ 以上の場合、「ふっとび加速演出」が適用される。\n    *   この演出により、実際の硬直時間は計算上の硬直値よりも短縮される（例: 計算値 $60\\text{F}$ $\\rightarrow$ 実時間 $42\\text{F}$）。\n\n3.  **特定ワザによる硬直フレーム補正**\n    *   特定のワザには、基本計算式に加え、固有のフレーム加算または減算（$\\Delta \\text{F}$）が設定されている。\n    *   この補正によって総硬直フレームが増加し、倒れふっとびの閾値（$32\\text{F}$）を超過した場合であっても、基本KBが閾値を満たしていない限り、倒れふっとび状態には移行しない。\n\n4.  **ふっとび硬直キャンセル（Hitstun Canceling）**\n    *   強いふっとびを受けた際、硬直終了前であっても、以下の「経過フレーム」と「ふっとび速度」の双方の条件を満たした時点で、空中回避または空中攻撃によるキャンセルが可能となる。\n    *   **条件:**\n        1.  経過フレーム $\\geqq$ 下限硬直F（電撃属性被弾時は $+1\\text{F}$）\n        2.  現在のふっとび速度 $\\leqq$ 規定値\n    *   **閾値:**\n        *   **空中回避:** 下限 $40\\text{F}$ / 速度 $2.5$ 以下\n        *   **空中攻撃:** 下限 $45\\text{F}$ / 速度 $2.0$ 以下\n    *   **行動優先度:** 空中回避 $\\geqq$ 空中攻撃 $\\geqq$ その他（ジャンプ・必殺ワザ等は硬直完全終了まで不可）。\n\n5.  **立ちふっとび着地時の硬直延長**\n    *   倒れふっとびにならない「立ちふっとび」状態で着地した場合、最終的な硬直フレームは以下の最大値が適用される。\n        $$ \\text{実質硬直F} = \\max(\\text{滞空F} + \\text{大着地隙}, \\quad \\text{ふっとび硬直F} + 1) $$\n    *   これにより、立ちふっとび中の着地は、空中に居続ける場合と比較して最低でも $1\\text{F}$ 硬直が増加する。\n\n6.  **コンボカウンターの判定基準**\n    *   トレーニングモードのコンボカウンターは、相手の「ふっとび硬直中」に次の攻撃がヒットした場合に加算される。\n    *   **例外・制限:**\n        *   「立ちふっとび着地による硬直延長」や「ふっとび硬直キャンセル」による変動は考慮されない。\n        *   2ヒット目が電撃属性の場合、不具合により3ヒット目の判定が厳格化する。\n        *   カウンターが回らなくても、相手の行動発生F（回避の前隙など）に攻撃が刺さる「実質的な確定コンボ」は存在する。"
  },
  {
    "category": "ふっとび速度",
    "axioms": "### 1. Knockback Initialization & Velocity Calculation\n*   **Base Velocity Formula**: The initial knockback velocity ($V_{init}$) is derived from the calculated Knockback (KB) and Launch Speed Influence (LSI).\n    $$V_{init} = KB \\times 0.03 \\times LSI$$\n*   **Unit Definition**: Velocity is measured in game units per frame, where 1 unit $\\approx$ 10cm.\n*   **LSI Range**: LSI is a multiplier (Standard: 1.0, Max: ~1.095).\n\n### 2. Vector Decomposition & Gravity Compensation\n*   **X-Component**: Pure projection of initial velocity.\n    $$V_{x\\_init} = V_{init} \\times \\cos \\theta$$\n*   **Y-Component (Gravity Boost)**: For tumbling knockback, the Y-velocity is boosted by the character's gravity.\n    $$V_{y\\_init} = V_{init} \\times \\sin \\theta + (5 \\times (Gravity - 0.075))$$\n*   **Resultant Trajectory**: The actual launch angle $\\phi$ is the vector sum of $V_{x\\_init}$ and $V_{y\\_init}$.\n    *   *Implication*: Heavier characters (higher Gravity) have a larger Y-component, shifting $\\phi$ upward. This reduces the X-component of decay ($Decay_X$), potentially increasing horizontal kill power against them.\n\n### 3. Velocity Decay (Deceleration)\n*   **Decay Rate**: Knockback velocity decreases by a fixed amount per frame.\n    $$Decay_{total} = 0.051 \\quad (\\text{Equivalent to } -1.7 \\text{ KB/frame})$$\n*   **Component Decay**:\n    *   $$Decay_X = 0.051 \\times \\cos \\phi$$\n    *   $$Decay_Y = 0.051 \\times \\sin \\phi$$\n*   **Persistence**: Knockback velocity decays independently of normal movement and persists until it reaches 0, even after hitstun ends.\n\n### 4. Frame-by-Frame Physics Simulation\nThe total velocity at frame $n$ is the sum of remaining Knockback Velocity and Normal Velocity (Gravity/Movement). Normal velocity resets to 0 on the hit frame.\n\n#### A. Aerial State\n*   **X-Velocity**:\n    $$V_{x\\_n} = V_{x\\_init} - (n \\times Decay_X)$$\n*   **Y-Velocity**:\n    $$V_{y\\_n} = V_{y\\_init} - (n \\times Decay_Y) - \\min(n \\times Gravity, MaxFallSpeed)$$\n*   **Vertical Launch Exception ($70^\\circ \\le \\phi \\le 110^\\circ$)**:\n    *   Instead of character stats, use **Special Gravity**: $0.0756 - 0.000336 \\times (100 - Weight)$.\n    *   Instead of character stats, use **Special Fall Speed**: $1.8$.\n    *   Duration: Applies during the *DamageFlyTop* animation (Hitstun + ~15F).\n\n#### B. Ground State\n*   **Condition**: Character is on flat ground with $V_y = 0$.\n*   **X-Velocity**: Applies Ground Friction in addition to standard decay.\n    $$V_{x\\_n} = \\max(V_{init} - n \\times (0.051 + GroundFriction), 0)$$\n\n#### C. Position Update\n*   $$Pos_n = Pos_{n-1} + Vel_n$$\n*   **Timing Rule**: $V_{init}$ is the definition at Frame 0. The character's first coordinate update (Frame 1) uses the velocity *after* 1 frame of decay.\n\n### 5. Environmental Interactions & Collision\n*   **Wall/Ceiling Collision**:\n    *   Threshold: Knockback Velocity $\\ge 1.0$.\n    *   Effect: Velocity $\\times 0.95$, Hitstun $\\times 0.8$.\n    *   Stop Time: Hitstun $\\times 0.15$ frames (Min 2, Max 30).\n*   **Floor Collision**:\n    *   Threshold: Knockback Velocity $\\ge 0.8$.\n    *   Effect: Velocity $\\times 0.9$, Hitstun $\\times 0.8$.\n    *   Behavior: Immediate bounce.\n*   **Tech (Ukemi)**: Possible if Knockback Velocity $\\le 6.0$ upon collision.\n\n### 6. Interruptions (Combo Mechanics)\n*   **Overwrite Rule**: If a character in hitstun is hit again, the new knockback overwrites the old.\n*   **Resistance**: Overwrite does **not** occur if:\n    $$V_{new} < V_{current\\_target} - 2.0$$\n    In this case, vector addition/blending may occur depending on specific conditions.\n\n### 7. Hard Limits & UI Conversion\n*   **Velocity Caps**:\n    *   Global Max KB Velocity: $\\approx 82.125$ (derived from KB 2500).\n    *   Ground Launch Cap: $8.3$.\n    *   Absolute Coordinate Delta Caps: Air X (100), Air -Y (100), Air +Y (15).\n*   **Results Screen Speed (km/h)**:\n    *   Standard: $\\text{INT}(V_{init} \\times 21.6)$.\n    *   With Zoom/Special Zoom (SP): Uses the effective velocity of the 1st frame including acceleration effects."
  },
  {
    "category": "ふりむき_慣性反転",
    "axioms": "[\n  {\n    \"category\": \"Special Move Mechanics\",\n    \"axiom_name\": \"Turn-around vs. B-Reverse Logic\",\n    \"content\": \"Special moves have two distinct re-orientation mechanisms with different frame triggers. 'Turn-around B' changes only facing direction on Frame 1 (requires stick input $\\\\le 8\\\\text{F}$ before move start, sequence within $9\\\\text{F}$). 'B-Reverse' changes both facing and X-axis momentum on Frame 5 (requires stick input opposite to facing direction exactly at Frame 4).\"\n  },\n  {\n    \"category\": \"Special Move Mechanics\",\n    \"axiom_name\": \"Mid-Move Reorientation\",\n    \"content\": \"Certain Up-Special moves allow facing reversal (without momentum reversal) if input occurs during specific active frames (e.g., Mario at $3\\\\text{F}$, Roy at $4\\\\text{F}$). This overrides the standard Frame 1 turn-around logic.\"\n  },\n  {\n    \"category\": \"Controller Physics\",\n    \"axiom_name\": \"Stick Sensitivity & Input Buffers\",\n    \"content\": \"The 'Stick Sensitivity' setting modifies the frame window for accepting 'Smash/Flick' inputs by $\\\\pm 1\\\\text{F}$ relative to the 'Normal' baseline (e.g., Smash attacks $6\\\\text{F}$). It does not alter the physical tilt threshold required. Certain inputs (Aerial Item Throw, Terry's Back/Front Side B) have fixed frame windows unaffected by this setting.\"\n  },\n  {\n    \"category\": \"Controller Physics\",\n    \"axiom_name\": \"Tap Jump Priority & Jumpsquat Interactions\",\n    \"content\": \"Tap Jump (Stick Jump) has lower priority than Button Jump. Enabling it reduces the Up Smash input buffer during jumpsquat from $5\\\\text{F}$ to $3\\\\text{F}$. However, it enables 'Instant Full Hop Aerials' by allowing an attack input immediately after jumpsquat ($1\\\\text{F}$ earlier than standard) without triggering the Short Hop macro.\"\n  },\n  {\n    \"category\": \"Movement Physics\",\n    \"axiom_name\": \"Platform Drop Cancel Windows\",\n    \"content\": \"Platform dropping requires a $1\\\\text{F}$ crouch, starting the drop on Frame 2. Inputs during frames 1-2 result in 'Ground Attacks' (canceling the drop). Inputs during frames 3-4 result in 'Aerial Attacks' (executing the drop). A specific exception exists at Frame 3 where Down-Air input converts to Down-Smash.\"\n  },\n  {\n    \"category\": \"Movement Physics\",\n    \"axiom_name\": \"FGC Character Platform Drop Extension\",\n    \"content\": \"To accommodate complex command inputs, characters like Ryu, Ken, and Terry have extended platform drop animation frames (7F and 11F respectively) and extended special-move cancel windows, preventing accidental platform drops during command inputs.\"\n  },\n  {\n    \"category\": \"Advanced Tech\",\n    \"axiom_name\": \"Inertia Preservation & C-Stick Override\",\n    \"content\": \"To preserve lateral momentum during an Out-of-Shield aerial, inputs must be staggered (Jump $\\\\to$ Attack $\\\\to$ Move) within $3\\\\text{F}$; simultaneous input results in vertical momentum. Additionally, C-Stick inputs override the Left Stick's drift vector unless the C-Stick returns to neutral by the end of the jumpsquat ($3\\\\text{F}$).\"\n  }\n]"
  },
  {
    "category": "アクションその他",
    "axioms": "### 1. 基本モーションと状態遷移の公理\n*   **待機モーションの確率遷移**: ファイターは $2 \\sim 5$ 種類の待機モーションを持ち、常に $Wait1$ から開始する。その後、設定された確率（例：勇者は $70:15:15$）に基づいてモーションが遷移する。\n*   **アイテム所持時の姿勢**: パラメータ `have_kind` が `have` の場合のみアイテム持ち待機に移行する。ウルフのアイテム持ちしゃがみ待機は、飛び道具回避判定を持つ特殊姿勢となる。\n*   **ふりむき（Turn）の仕様**:\n    *   開始 $1\\text{F}$ 目から向きが反転する。\n    *   歩行扱いであり移動可能だが、**ふりむき動作をふりむきでキャンセルすることはできない**（他のほぼ全アクションではキャンセル可能）。\n    *   敵が1人の場合、リュウ・ケン・テリーは自動振り向き機能により手動ふりむきが不可となる。\n*   **着地ふりむき**: 着地（小・大）の $1-6\\text{F}$ 前、または立ちふっとび着地の $8\\text{F}$ 以上前に逆方向入力を行うことで、着地と同時に反転ダッシュが可能。\n\n### 2. しゃがみと防御補正の公理\n*   **しゃがみ補正**: しゃがみ開始およびしゃがみ待機中は以下の補正を受ける。\n    *   ふっとばし力：$\\times 0.85$\n    *   ヒットストップ：$\\times 0.67$\n*   **しゃがみ歩きの非適用**: しゃがみ歩き（22ファイターが可能）は「しゃがみ状態」として扱われないため、上記の防御補正は適用されない。\n*   **フレームデータ**: しゃがみ移行、解除（復帰）ともに全体 $6\\text{F}$ を要する。\n\n### 3. すり抜け床と台降りの公理\n*   **通常台降り**:\n    *   下入力成分が一定値を $5\\text{F}$ 以内に超えることで成立する（先行入力不可）。\n    *   入力感知に $2\\text{F}$、モーション開始は最速 $3\\text{F}$ 目、全体 $2\\text{F}$。\n    *   空中攻撃は入力開始から最速 $5\\text{F}$ 目に発生可能（$4\\text{F}$ 目に下空中攻撃を入力すると下スマッシュに化ける）。\n*   **下強攻撃後の制限**: 下強攻撃後は必ず「しゃがみ待機」または「しゃがみ復帰（$6\\text{F}$）」を経由する必要があり、そのモーションが完全に終了するまで台降りは行えない。\n*   **コマンド入力族の例外**: リュウ・ケン・テリーは台降り全体フレームが延長（$6\\text{F}$ または $10\\text{F}$）され、その期間内に必殺ワザコマンドを入力することで台降りをキャンセルし、地上ワザとして発動可能。\n\n### 4. カベアクションの公理\n*   **カベジャンプ**:\n    *   ガケ離し直後 $5\\text{F}$ は使用不可。\n    *   同一カベの再利用には $175\\text{F}$ のクールタイムが存在する（異なるカベなら制限なし）。\n    *   予備動作 $5\\text{F}$ を経て $6\\text{F}$ 目にジャンプする。\n*   **カベ張りつき**:\n    *   条件：カベ傾斜 $-20^\\circ \\sim 30^\\circ$、Y速度 $\\le 0$、通常モーション中であること。\n    *   最大張りつき時間は連続使用回数に応じて以下の式で減衰する：\n        $$ T_{max} = 180 \\times 0.5^{(\\text{count})} + 5 $$\n    *   再使用制限はカベ離脱後 $90\\text{F}$。\n\n### 5. アピールと特殊仕様の公理\n*   **アピール**: 基本全体フレームは $49\\text{F}$。攻撃判定を持つアピール（ルイージ、スネーク等）はOP相殺ボーナスの影響を受けるが、相殺キュー（保存列）には登録されない。\n*   **スマッシュアピール**: 特定ステージにて下アピールを $1\\text{F}$ 入力で発生。失敗時は $2\\text{F}$ 目から通常アピールが出る。\n*   **ファイター固有仕様**:\n    *   キングクルール：横アピール $9-20\\text{F}$ に腹アーマー付与。\n    *   カービィ：アピールを行うとコピー能力を破棄する。"
  },
  {
    "category": "アーマー",
    "axioms": "[\n  {\n    \"category\": \"General Mechanics\",\n    \"axiom_name\": \"Armor Definition\",\n    \"description\": \"アーマー状態のキャラクターは被弾時にダメージを受けるが、ふっとび（Knockback）を無効化または軽減する。\",\n    \"rules\": [\n      \"被弾時、攻撃側と防御側の両者にヒットストップが発生する。\",\n      \"アーマーでの受け止め中、ヒットストップずらし（SDI）は無効である。\",\n      \"「つかみ判定」および「風判定（押し出し）」はアーマーの対象外であり、通常通り作用する。\"\n    ]\n  },\n  {\n    \"category\": \"Armor Classification\",\n    \"axiom_name\": \"Armor Types\",\n    \"description\": \"アーマーは耐久値の有無により分類される。\",\n    \"types\": {\n      \"Super Armor\": \"耐久値が無限。いかなるダメージ・ふっとばし力でも耐える（例：多くの最後の切りふだ）。\",\n      \"Heavy Armor\": \"有限の耐久値を持つ。耐久値を超過した場合、アーマーがブレイクしふっとぶ。\"\n    }\n  },\n  {\n    \"category\": \"Heavy Armor Logic\",\n    \"axiom_name\": \"Durability Threshold\",\n    \"description\": \"ヘビーアーマーが機能するかどうかの判定式。\",\n    \"formula\": \"Incoming_Value <= Durability_Value implies Withstand\",\n    \"notes\": [\n      \"受ける値（ダメージまたはKB）が耐久値と等しい場合も耐える。\",\n      \"通常、ダメージは累積せず、ヒット（単発）ごとに判定される（キングクルール横Bを除く）。\"\n    ]\n  },\n  {\n    \"category\": \"Calculation Rules\",\n    \"axiom_name\": \"Damage Calculation Modifiers\",\n    \"description\": \"ヘビーアーマー（ダメージ依存）の判定における補正の適用ルール。\",\n    \"modifiers\": {\n      \"1on1_Multiplier\": \"適用されない（1.0倍として計算）。ただしキングクルール横Bの2発目以降など例外あり。\",\n      \"OP_Staling\": \"適用される（判定値に影響する）。\",\n      \"Short_Hop_Multiplier\": \"適用される（判定値に影響する）。\"\n    }\n  },\n  {\n    \"category\": \"Calculation Rules\",\n    \"axiom_name\": \"Effective Durability\",\n    \"description\": \"被ダメージ軽減効果を持つワザにおける、実質的な耐久値の計算式。\",\n    \"formula\": \"Effective_Durability = Base_Durability / Damage_Multiplier\",\n    \"examples\": [\n      \"クッパJr. 横B: 9.0% / 0.88 = 10.23%\",\n      \"パックンフラワー 下B: 12.0% / 0.8 = 15.0%\"\n    ]\n  },\n  {\n    \"category\": \"Special Mechanics\",\n    \"axiom_name\": \"Subtractive Knockback Armor (Yoshi)\",\n    \"description\": \"ヨッシーの空中ジャンプにおけるKB依存アーマーの計算仕様。\",\n    \"threshold\": \"120 KB\",\n    \"logic\": [\n      \"IF Incoming_KB <= 120 THEN Result_KB = 0\",\n      \"IF Incoming_KB > 120 THEN Result_KB = MAX(Incoming_KB - 120, 60)\"\n    ]\n  },\n  {\n    \"category\": \"Special Mechanics\",\n    \"axiom_name\": \"Cumulative Armor (King K. Rool Side-B)\",\n    \"description\": \"単発ではなく累積ダメージで判定される特殊仕様。\",\n    \"rules\": [\n      \"耐久値判定には累積ダメージを使用する。\",\n      \"1発目の被弾判定時のみ1on1補正を無視する。\",\n      \"2発目以降の被弾判定時は1on1補正を適用する。\"\n    ]\n  },\n  {\n    \"category\": \"Special Mechanics\",\n    \"axiom_name\": \"Resource Armor (King K. Rool Belly)\",\n    \"description\": \"シールドと同様の性質を持つリソース管理型アーマー。\",\n    \"rules\": [\n      \"最大耐久値は約28.02%（1on1補正込みのダメージで計算）。\",\n      \"時間経過（30F毎）で耐久値が回復する。\",\n      \"耐久値が0になるとブレイクし、ふらふら状態になる。\",\n      \"受け止め時の最小ヒットストップは16Fに固定される。\"\n    ]\n  },\n  {\n    \"category\": \"Special Mechanics\",\n    \"axiom_name\": \"Hit-Count Limited Armor\",\n    \"description\": \"耐久値に関わらず、耐えられる回数に制限があるアーマー。\",\n    \"examples\": [\n      \"リュウ・ケン 下B（セービングアタック）: 最初の1回のみ耐える。2回目以降は被弾する。\"\n    ]\n  },\n  {\n    \"category\": \"Exceptions\",\n    \"axiom_name\": \"Armor Piercing\",\n    \"description\": \"アーマーの耐久値に関わらず、強制的にブレイクさせる攻撃。\",\n    \"list\": [\n      \"カウンターワザ成立時の反撃\",\n      \"多くの最後の切りふだ\",\n      \"ガオガエン 横B（つかみ判定部分）\"\n    ]\n  }\n]"
  },
  {
    "category": "ガケ",
    "axioms": "# スマブラ ガケ（Ledge）物理・システム公理\n\n## 1. ガケつかまりシーケンス (Ledge Sequence)\nガケつかまりは以下の4フェーズで構成され、順次遷移する。\n\n1.  **接触 (Contact)**: ファイターのガケつかまり判定とステージのガケ判定が重複した瞬間に開始。\n2.  **吸い寄せ (Snap / The 2 Frame)**:\n    *   **期間**: $0 \\le t_{snap} \\le 2$ [F]\n    *   **特性**: 無敵なし。被弾時は空中ジャンプが復活しない。\n    *   **例外**: 至近距離またはワイヤー復帰時はスキップされる。\n3.  **移行 (Transition)**:\n    *   **期間**: $t_{trans} = 19$ [F] （全ファイター共通、連続つかまり回数により変動あり）\n    *   **特性**: 完全無敵、操作不能。\n4.  **待機 (Wait)**:\n    *   **期間**: $0 \\le t_{wait} \\le 360$ [F]\n    *   **特性**: 算出された無敵フレームを消費。$t_{wait} = 360$ で強制落下（硬直なし）へ遷移。\n\n## 2. 無敵フレーム算出ロジック (Invincibility Calculation)\nガケ待機状態における無敵フレーム $I$ は、滞空時間 $T_{air}$ と蓄積ダメージ $D$ に依存する。\n\n*   **基本式**:\n    $$ I = \\text{INT}\\left(44 + 0.2 \\cdot T_{air} - \\frac{44}{120} \\cdot D\\right) $$\n*   **定義域**:\n    *   $0 \\le T_{air} \\le 300$ [F]\n    *   $0.0 \\le D \\le 120.0$ [%]\n*   **値域（制約）**:\n    *   $4 \\le I \\le 104$ [F]\n*   **適用**:\n    *   この $I$ は「移行フェーズ（19F）」の無敵とは別枠で加算される。\n    *   連続ガケつかまり時は $I = 0$ となる。\n\n## 3. ガケつかまり禁止条件 (Grab Lockout)\n以下のいずれかの条件を満たす場合、接触判定があってもガケつかみは発生しない。\n\n*   **入力**: Lスティック下入力中（特定技を除く）。\n*   **物理状態**:\n    *   ジャンプ上昇中（ワイヤー復帰を除く）。\n    *   攻撃モーション中、またはやられ硬直中。\n*   **クールタイム**:\n    *   ふっとび開始から $30$ [F] 未満。\n    *   前回のガケつかまり終了から $44$ [F] 未満。\n*   **回数制限**:\n    *   同一滞空中のつかまり回数が上限（通常6回、ワイヤー3回等）に達している。\n\n## 4. 連続ガケつかまりペナルティ (Regrab Penalty)\n着地せずに再度ガケをつかんだ場合、以下のペナルティが適用される。\n\n1.  **無敵消失**: 移行フェーズおよび待機フェーズの無敵が $0$ になる。\n2.  **拘束時間延長**: 移行フェーズの時間 $t_{trans}$ が増加する。\n    *   $N$回目 ($N \\ge 3$): $t_{trans} = 19 + (N - 2)$ [F] （最大23F）\n3.  **あがり行動弱体化**: ガケあがり行動の無敵時間が短縮・消失する。\n\n## 5. ガケあがり行動仕様 (Getup Options)\nガケ待機状態から選択可能な行動とフレーム特性。先行入力（待機開始前10F）が可能。\n\n*   **その場あがり**: 全体34F / 後隙1F。標準的な選択肢。\n*   **攻撃あがり**: 全体55F。攻撃判定発生まで無敵。\n*   **回避あがり**: 全体45F。移動距離と無敵はキャラ固有。\n*   **ジャンプあがり**: 全体14F / 後隙2F。無敵は $1 \\sim 12$F。\n*   **ガケ離し**: 行動後 $6$F間は壁ジャンプ不可。\n\n## 6. 特殊ケース: ワイヤー復帰 (Tether Recovery)\n通常のガケつかまりとは異なる物理挙動を持つ。\n\n*   **シーケンス変更**: 吸い寄せ(2F)と移行モーションが存在しない。\n*   **操作不能時間**: ガケ到達後 $19$ [F] は操作不能（強制ガケつかまりの代替）。\n*   **無敵消費**: 計算式で得られた無敵時間 $I$ は、操作不能時間中も消費される（実質無敵 $= I - 19$）。\n*   **ぶら下がり制限**: 最大約120F。\n\n## 7. 特殊ケース: ガケ奪い (Ledge Trump)\n既にファイターAがつかんでいるガケをファイターBがつかんだ場合の処理。\n\n*   **判定**: 同時につかんだ場合、ポート番号が若い方が弾かれる。\n*   **奪われた側 (A)**: 強制的に弾き出され、$28$ [F] の硬直が発生。\n*   **奪った側 (B)**: 通常の移行フェーズ（19F）を経て行動可能。\n*   **フレーム有利**:\n    $$ F_{adv} = (\\text{Aの硬直終了時刻}) - (\\text{Bの行動開始時刻}) $$\n    $$ +8 \\le F_{adv} \\le +27 \\quad [\\text{F}] $$"
  },
  {
    "category": "ガード硬直",
    "axioms": "### 1. ガード硬直フレームの算出 (Calculation of Shield Stun)\nガード硬直フレーム $F_{stun}$ は、攻撃判定のダメージ $D$ とワザ属性による補正倍率 $M$ を用いて算出される。\n\n*   **基本式**:\n    $$ F_{stun} = \\text{INT}\\left( (D \\times 0.8 \\times M) + 2 \\right) $$\n*   **上限値 (Cap)**:\n    *   $F_{stun}$ の最大値は **59F** とする（Ver.9.0.0以降）。\n*   **ダメージ変数 $D$ の定義**:\n    *   攻撃判定の基礎ダメージに対し、攻撃側の補正（OP相殺、怒り補正等）を**適用する**。\n    *   1on1補正、および防御側の被ダメージ補正は**適用しない**。\n\n### 2. 補正倍率 $M$ の定義 (Multiplier Definitions)\nワザのカテゴリーに応じ、以下の倍率 $M$ を適用する。\n\n*   **基本カテゴリ**:\n    *   **スマッシュ攻撃**: $M = 0.725$\n    *   **空中攻撃**: $M = 0.33$\n        *   例外: 着地攻撃(LF)、空中ワイヤー、空中必殺ワザは対象外（通常 $1.0$ 扱い）。\n    *   **飛び道具**: $M = 0.29$\n        *   ファイター生成アイテムを含む。\n    *   **その他 (弱, 強, DA, 必殺ワザ等)**: $M = 1.0$\n*   **優先順位と例外処理**:\n    *   **ピクミン・チコ**: 攻撃種類に関わらず常に「飛び道具 ($0.29$)」として扱う。\n    *   **ミェンミェンの空中アーム**: 空中攻撃補正を適用せず、「通常 ($1.0$)」または「スマッシュ ($0.725$)」として扱う。\n    *   **飛び道具属性のスマッシュ**: 原則「スマッシュ ($0.725$)」として扱う（ダックハントなど一部例外あり）。\n    *   **スネークの横スマッシュ**: 固有補正 $0.32$ を乗算し、最終倍率を $0.232$ とする。\n\n### 3. ガード硬直中の状態仕様 (State Mechanics)\n*   **硬直の上書き**: ガード硬直中に新たな攻撃をガードした場合、既存の硬直は破棄され、新しい攻撃による $F_{stun}$ が再適用される。\n*   **シールド耐久値**: ガード硬直フレーム中は、時間経過によるシールド耐久値の自然減少は発生しない。\n*   **同時ヒット**: 複数の攻撃判定（本体と飛び道具など）が同時にガードされた場合、計算結果のダメージ・倍率が最も高いものを採用する。\n\n### 4. 防御側の行動制限 (Defender Restrictions)\nガード硬直終了後の行動遷移において、以下の制限を設ける。\n\n*   **ガーキャンつかみ遅延**: ガード硬直終了後、**4F** 間はつかみ（Grab）入力を受け付けない（または実行されない）。\n    *   その他のガードキャンセル行動（ジャンプ、回避、攻撃）は即座に可能。\n\n### 5. 攻撃側の行動制限 (Attacker Restrictions)\n攻撃をガードさせた直後、攻撃側は一時的にその相手をつかむことができない（飛び道具を除く）。\n\n*   **つかみ不可時間 $F_{lockout}$ の算出**:\n    $$ F_{lockout} = \\text{INT}\\left( (V_{raw} + 8) \\times 0.8 + 2 \\right) $$\n    *   ここで $V_{raw}$ は、INT処理前のガード硬直計算値 $(D \\times 0.8 \\times M)$ を指す。\n\n### 6. 連続ガードとキャンセル仕様 (Blockstrings & Canceling)\n*   **連続ガード（連ガ）**: ガード硬直終了前に次の攻撃がヒットする場合、シールドボタン入力の有無に関わらずシールド状態が維持される。\n*   **連ガキャンセル回避**:\n    *   同一の連ガシーケンスにおいて **11ヒット目** 以降、ガード硬直中であっても「その場回避」または「横回避」によるキャンセルが可能となる。\n    *   このキャンセル回避は、動作の **1F目から無敵** 判定を持つ。"
  },
  {
    "category": "シフト攻撃",
    "axioms": "[\n  {\n    \"id\": \"angling_definition\",\n    \"content\": \"Angling (Shift Attack) is a mechanic applicable to specific Forward Tilts, Forward Smashes, and Aerial attacks where the control stick's vertical inclination modifies the attack's properties. While the primary effect is a vertical shift in Hitbox coordinates, it can also alter Damage, Knockback (KB), Launch Vector, Duration, Trip Rate, and Total Frames.\"\n  },\n  {\n    \"id\": \"angling_directions\",\n    \"content\": \"Angling allows for three distinct states: Up-Shift, Neutral (No Shift), and Down-Shift. (Note: The N64 iteration allowed for 5 directions).\"\n  },\n  {\n    \"id\": \"input_timing_standard\",\n    \"content\": \"The specific frame checked for the angling input depends on the move type:\\n- **Forward Tilt & Aerials**: Checked on the 1st frame of input.\\n- **Uncharged Forward Smash**: Checked on the frame charge starts (input frame).\\n- **Charged Forward Smash**: Checked on the frame the charge is released (hold release frame). Even if the angle was correct at the start, it must be maintained at release to trigger the shift.\"\n  },\n  {\n    \"id\": \"input_angle_thresholds\",\n    \"content\": \"To successfully angle an attack, the stick input must fall within specific degree ranges relative to the horizontal axis:\\n- **Ground Moves (Tilt/Smash)**: Approximately $16^\\circ \\sim 60^\\circ$.\\n- **Aerial Moves**: $15^\\circ \\sim 65^\\circ$.\\n- **Recommendation**: An input of $45^\\circ$ is the most consistent method.\"\n  },\n  {\n    \"id\": \"input_exceptions_zss_minmin\",\n    \"content\": \"Certain fighters have unique input windows:\\n- **Zero Suit Samus (F-Smash)**: Input is accepted up to Frame 22 (after the first hit ends).\\n- **Min Min (Arms)**: Input is checked at the moment of arm extension ($14F$ for Tilt/$11F$ for 2nd arm, $16F$ for Smash).\"\n  },\n  {\n    \"id\": \"parameter_change_vectors\",\n    \"content\": \"Angling often changes the launch vector to alter KO potential:\\n- **Link (F-Smash)**: Up-Shift increases KB but raises the angle (harder to KO); Down-Shift decreases KB but lowers the angle (easier to KO).\\n- **Duck Hunt / Joker (F-Tilt)**: Down-Shift provides a lower vector than Neutral, facilitating KOs.\"\n  },\n  {\n    \"id\": \"parameter_change_peach_daisy\",\n    \"content\": \"Peach and Daisy's F-Smash changes weapon models and stats based on angling:\\n- **Up (Frying Pan)**: High launch angle, Short range, Max Damage ($18.0\\%$/$19.6\\%$).\\n- **Neutral (Golf Club)**: Standard angle, Max range (Tipper mechanic), Mid Damage ($15.0\\%$/$18.0\\%$).\\n- **Down (Tennis Racket)**: Low launch angle (high horizontal KO power), Min Damage ($13.5\\%$/$16.2\\%$).\\n- **Mario (F-Smash)**: Both Up and Down shifts result in higher Damage and KB compared to Neutral.\"\n  },\n  {\n    \"id\": \"tether_recovery_simon_richter\",\n    \"content\": \"For Simon and Richter, angling Forward Air (Fair) or Back Air (Bair) shifts the Tether Ledge Grab Box coordinates (active frames $13 \\sim 14F$).\\n- **X-Range**: Constant ($19$ to $70$ for Fair, $-19$ to $-70$ for Bair).\\n- **Y-Range (Up Shift)**: $58$ to $-15$.\\n- **Y-Range (Neutral)**: $40$ to $-20$.\\n- **Y-Range (Down Shift)**: $30$ to $-40$.\"\n  }\n]"
  },
  {
    "category": "シールド",
    "axioms": "### 1. シールド耐久値システム\n*   **内部値と表示値の乖離**: シールド耐久値は「内部数値」と「実質数値（画面表示）」で異なり、ダメージ計算や減少処理には補正係数が介入する。\n    *   **耐久値補正係数**: $1.19$\n    *   **最大耐久値（内部）**: $50.0\\%$\n    *   **最大耐久値（実質）**: $50 / 1.19 \\approx 42.017\\%$\n*   **自然減少（1Fあたり）**:\n    *   内部: $0.15\\%$\n    *   実質: $\\approx 0.126\\%$\n    *   枯渇所要時間: 最大値から約 $334 \\text{ F}$\n*   **自然回復（1Fあたり）**:\n    *   内部: $0.08\\%$\n    *   実質: $\\approx 0.067\\%$\n    *   全快所要時間: $0$から約 $625 \\text{ F}$\n*   **回復開始条件**: シールド解除硬直の終了、またはガードキャンセル行動の開始から $10 \\text{ F}$ 経過後。\n*   **シールドブレイク後の復活値**: 実質耐久値で約 $31.5\\%$。\n*   **ファイター固有補正**: シュルクが「盾」状態の場合、最大耐久値および回復速度は通常の $2.0$倍となる。\n\n### 2. シールドのフレームデータ\n*   **発生**: $1 \\text{ F}$\n*   **強制展開時間**: $3 \\text{ F}$（最短で $4 \\text{ F}$目に解除可能）。\n*   **解除硬直**: $11 \\text{ F}$（最短で $12 \\text{ F}$目に再行動可能）。\n*   **ジャストシールド（パリィ）受付期間**: シールド解除硬直の開始から $1 \\sim 5 \\text{ F}$ の間。\n\n### 3. ガードストップ（ヒットストップ）計算\n攻撃がシールドにヒットした際、双方が停止する時間（GuardStop）は以下の式で求められる。\n\n$$ \\text{GuardStop} = \\text{INT}\\left( (\\text{Damage} \\times 0.65 + 6) \\times 0.67 \\times \\text{HitstopMult} \\times \\text{Correction} \\right) $$\n\n*   **HitstopMult（倍率）の下限**: 計算時、倍率が $1.0$ 未満の場合は $1.0$ として扱われる。\n*   **攻撃側の硬直**: 基本的に防御側と同じだが、特定のワザ（本体に付随する飛び道具など）では式の $0.67$倍補正が攻撃側に適用されず、防御側より早く動ける場合がある。\n\n### 4. ガードノックバックと物理挙動\nシールド中に攻撃を受けた際の押し出し速度と減速処理。\n\n*   **攻撃側の後退初速**:\n    $$ V_{\\text{attack}} = \\text{Damage} \\times 0.04 + 0.025 $$\n    *   上限なし。\n*   **防御側の後退初速**:\n    $$ V_{\\text{defense}} = (\\text{GuardStop} + 2) \\times 0.09 \\times \\text{Correction} $$\n    *   速度上限: $1.3$\n    *   ジャストシールド時のCorrection: $0.15$\n*   **減速処理（毎フレーム）**:\n    $$ \\text{Deceleration} = \\text{GroundFriction} \\times 1.1 $$\n*   **ステージ端からのずり落ち（Sliding Off）条件**:\n    攻撃側の $1 \\text{ F}$ 目の速度が $0.9$ 以上残る場合に発生する。\n    $$ (\\text{Damage} \\times 0.04 + 0.025) - (\\text{GroundFriction} \\times 1.1) \\ge 0.9 $$\n\n### 5. シールドSDI（ガードストップずらし）\nガードストップ中にスティック入力を行うことで位置をずらす仕様。\n\n*   **移動距離**:\n    $$ \\text{Distance} = 2.0 \\times 0.66 \\times \\text{SDIMult} \\times |\\text{StickX}| $$\n*   **制約**: 水平方向（X軸）のみ有効。連打制限なし。入力閾値は約 $60^{\\circ}$。\n\n### 6. シールドブレイクとその他仕様\n*   **気絶時間（ふらふら状態）**:\n    $$ \\text{StunTime} = 400 - \\text{AccumulatedDamage} \\text{ [F]} $$\n*   **レバガチャ短縮値**:\n    *   スティック入力: $-3.0 \\text{ F} / \\text{回}$\n    *   ボタン入力: $-5.4 \\text{ F} / \\text{回}$\n*   **ワンパターン相殺（OP相殺）**: シールドヒット時も適用されるが、減少量は通常ヒット時の $0.85$倍となる。"
  },
  {
    "category": "シールド削り値",
    "axioms": "*   **Data Definition**: The parameter \"Shield Damage\" (English: Shield Damage) uses \"%\" as its unit and accepts positive integers, decimals, and negative values.\n*   **Calculation Formula**: The total damage inflicted on a shield ($D_{shield}$) is calculated by adding the attack's base damage ($d$) and the specific Shield Damage value ($s$), then multiplying the sum by a global coefficient of 1.19. The formula is: $D_{shield} = (d + s) \\times 1.19$.\n*   **Stale-Move Independence**: The Shield Damage value ($s$) is constant and is not subject to reduction via OP (One-Pattern) Stale-Move Negation.\n*   **Frame Data Independence**: The magnitude of the Shield Damage value does not influence the duration of Guard Stop (Hitstop) or Guard Stun (Frame Advantage/Disadvantage).\n*   **Shield Break Threshold**: The maximum durability of a shield is defined as 50%. Consequently, a shield break occurs instantly if the sum of the base damage and Shield Damage value ($d + s$) exceeds approximately 42.017%.\n*   **Version Adjustment**: In Ver. 3.0.0, a balance adjustment reduced the Shield Damage values for approximately two-thirds of all projectile attacks."
  },
  {
    "category": "ジャストシールド",
    "axioms": "### ジャストシールド（Just Shield）の物理・仕様公理\n\n**1. 発動条件と判定領域 (Activation & Detection)**\n*   **時間的条件**: シールド解除入力フレームを $t=0$ としたとき、ジャストシールド成立判定期間 $F_{window}$ は以下の通り定義される。\n    $$ F_{window} = \\{ t \\mid 1 \\le t \\le 5 \\} $$\n    *   ただし、シールド展開に要する最低フレーム（$3$F）は短縮されない（立ち状態からの最速発生は $4$F目）。\n*   **空間的条件**: 判定領域 $A_{parry}$ は「シフト無し状態の最大シールドサイズ」に固定される。\n    *   現在のシールド耐久値 $HP_{shield}$ やシフトベクトル $\\vec{v}_{shift}$ は $A_{parry}$ に影響しない。\n    *   攻撃判定が $A_{parry}$ に接触し、かつ $F_{window}$ 内であれば成立する。\n*   **硬直時の排他制御**: ガード硬直終了時刻を $t_{end}$ とするとき、以下の期間はジャストシールドが発生しない。ただし、直前のイベントが「ジャストシールド成功」である場合を除く。\n    $$ t_{release} \\le t_{end} + 3 $$\n\n**2. 防御効果と物理補正 (Defense Physics)**\n*   **リソース保存**: ジャストシールド成立時、シールド耐久値の減少量 $\\Delta HP$ は $0$ となる。\n*   **状態変化**: ガードストップおよびガード硬直中、防御側プレイヤーの状態は「完全無敵（Intangible）」となる。\n*   **ノックバック補正**: 防御側に適用されるノックバックベクトル $\\vec{KB}_{def}$ は、基本ノックバック $\\vec{KB}_{base}$ に対し以下の係数を乗算する。\n    $$ |\\vec{KB}_{def}| = |\\vec{KB}_{base}| \\times 0.15 $$\n\n**3. 時間停止（Hitstop）の計算ロジック**\n*   ジャストシールド時のヒットストップ時間 $T_{JG}$ は、基本時間 $T_{base}$ に補正値 $\\Delta T$ を加算して算出される。\n    $$ T_{JG} = T_{base} + \\Delta T $$\n    *   条件: $T_{base} = 0$ の場合、補正は適用されない。\n*   **補正値マトリクス (1on1, Ver.9.0.0以降)**:\n    攻撃属性（本体/飛び道具）と接触属性（直接/非直接）により、攻撃側($att$)と防御側($def$)の $\\Delta T$ は以下のように分岐する。\n    *   **本体・直接**: $\\Delta T_{att} = +14, \\quad \\Delta T_{def} = +11$\n    *   **本体・非直接**: $\\Delta T_{att} = +8, \\quad \\Delta T_{def} = -1$\n    *   **飛び道具・直接**: $\\Delta T_{att} = 0, \\quad \\Delta T_{def} = +8$ （防御側不利増大）\n    *   **飛び道具・非直接**: $\\Delta T_{att} = 0, \\quad \\Delta T_{def} = -1$\n\n**4. 行動遷移と入力バッファ (State Transition & Buffer)**\n*   **硬直解除**: ガード硬直終了フレーム直後から、ガード解除モーションを経由せず、あらゆる行動（ダッシュ、攻撃等）へ遷移可能とする。\n    *   通常の「ガード解除後つかみ不可時間（4F）」および「ガード解除後ジャスガ不可時間（3F）」の制約を無効化する。\n*   **先行入力拡張**: ガードストップおよび硬直中の先行入力受付時間を $10$F から $30$F へ拡張する。\n\n**5. オート連続ジャスガ (Auto-Parry Recursion)**\n*   **発動対象**: 飛び道具、アイテム、第三者からの攻撃（同一主体の直接多段攻撃は除外）。\n*   **受付ウィンドウ減衰**: 連続発動回数を $n$ ($0 \\le n \\le 3$) とするとき、次弾の受付時間 $T_{auto}$ は以下で決定される。\n    $$ T_{auto} = \\min(T_{stop\\_end} + 4, T_{release} + 31) - 4n $$\n*   **終了条件**: 最大発動回数は $5$回（初回含む）までとする。\n\n**6. 例外処理 (Exceptions)**\n*   以下の攻撃判定に対しては、上記公理を適用せずジャストシールド不可とする。\n    *   ダメージ値 $0.0\\%$ の攻撃。\n    *   ガード不能属性（Unblockable）を持つ攻撃。\n    *   特定例外（ピクミン&オリマーの貼り付き横必殺ワザ）。"
  },
  {
    "category": "ジャンプ",
    "axioms": "[{'category': 'Input & Classification', 'axioms': ['Jumps are triggered by button press or Stick-Up (Tap Jump).', \"Inputting 'Back' on the stick during jump startup performs a 'Back Jump' but does not alter jump physics/performance.\", 'Jumps are classified into three types: Ground Jump, Air Jump, and Footstool Jump.']}, {'category': 'Ground Jump Mechanics', 'axioms': [\"All fighters have a universal 3-frame pre-jump animation called 'Jump Squat'.\", 'Short Hop (SH) is triggered by releasing the jump button within the 3-frame Jump Squat (or 1 frame after), or by pressing two jump buttons simultaneously (Ver. 2.0.0+).', 'Full Hop (FH) is triggered by holding the jump input past the Jump Squat duration.', 'Full Hops in SSBU undergo motion acceleration during frames 1-5 of airtime. This acceleration is cancelled if an action (like an attack) is performed immediately.', \"Due to the 'Always Short Hop Aerial' macro, a frame-perfect Full Hop Aerial is impossible; a minimum 1-frame delay is required to perform a Full Hop Aerial.\", \"Inputting an attack during the Jump Squat results in an automatic 'Instant Short Hop Aerial'.\"]}, {'category': 'Air Jump Mechanics', 'axioms': ['Air Jumps have 0 frames of startup (no Jump Squat) and occur on Frame 1 of input.', 'Air Jump resources are restored upon landing or grabbing a ledge.', 'Air Jumps and Aerial Attacks can be input on the same frame.', \"Using the last Air Jump creates a visual 'aura' effect on the fighter.\"]}, {'category': 'Advanced Techniques', 'axioms': ['1F Jump: Inputting jump 1-3 frames after slipping off a ledge/platform results in a Ground Full Hop (ignoring the 3F squat), effectively saving 2 frames.', 'Jump Cancel: The 3-frame Jump Squat can be cancelled into Up Smash, Up Special, or Item Throw/Drop.', 'Attack Cancel: Inputting a jump during the startup (1-2F) of a ground normal cancels the ground move into an Instant Short Hop Aerial.', 'Inertia Cancel: Performing an Attack Cancel from a Dash Attack with a backward jump input eliminates forward momentum.']}, {'category': 'Damage Modifiers', 'axioms': ['Short Hop Aerials apply a 0.85x damage multiplier to the attack.', 'This multiplier affects damage, shield stun, hitstop, and knockback.', 'The multiplier is removed if the player performs an Air Jump or is hit/knocked back.', 'The multiplier does not apply to Special Moves, Z-airs, or landing attacks.']}, {'category': 'Footstool Mechanics', 'axioms': [\"Triggered by jumping near an opponent's head (ECB).\", 'The user gains invincibility on Frames 1-4.', 'Can be performed as a Short Hop (release button) or Full Hop (hold button). Footstool Short Hops incur the 0.85x damage penalty on subsequent aerials.', 'Cannot be used on opponents who were knocked back within the last 16 frames.', 'Has an 8-frame cooldown and suffers velocity decay (0.75x per use) on repeated use.']}, {'category': 'Character Specifics', 'axioms': [\"Yoshi's Double Jump Armor is active frames 1-44. It resists knockback (K) <= 120. If K > 120, knockback is reduced to K - 120 (min 60).\", 'Multi-jump characters (e.g., Kirby, Jigglypuff) have specific height and frame data for each jump stage.']}, {'category': 'Physics Formulas', 'axioms': ['Let g be gravity and H be the set jump height.', 'Internal Initial Velocity (Frame 0): V_y0 = sqrt(2gH) + g/2', 'Observed Initial Velocity (Frame 1): V_y1 = sqrt(2gH) - g/2']}]"
  },
  {
    "category": "ダッシュ_走行",
    "axioms": "[\n  {\n    \"category\": \"Input & Definition\",\n    \"axiom_name\": \"Dash Input Specification\",\n    \"content\": \"ダッシュは左スティック入力後1～2Fで閾値を超えた場合に開始される。先行入力猶予は通常アクションより短い6Fであり、長押し（ホールド）によるバッファは無効である。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"axiom_name\": \"Dash to Run Transition\",\n    \"content\": \"ダッシュ開始から「ダッシュしはじめ」として扱われるのは1～6Fである。多くのファイターにおいて、スティックを倒し続けた場合、10Fの移行前フレームを経て11F目から「走行（Run）」状態へ移行する（範囲: 7～16F）。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"axiom_name\": \"Step Duration\",\n    \"content\": \"走行に移行せずスティックを戻した場合の「ステップ」全体フレームは、多くのファイターで19F（範囲: 15～29F）であり、この期間が終了するまでシールド展開は不可となる。\"\n  },\n  {\n    \"category\": \"Physics\",\n    \"axiom_name\": \"Velocity Application & Convergence\",\n    \"content\": \"固有パラメータ「ダッシュ速度($V_{dash}$)」は通常ダッシュで1～6F、反転ダッシュで3～8Fの間適用される。適用期間終了後は、現在の速度と最大走行速度($V_{max\\\\_run}$)を比較し、地上抵抗による減速または走行加速による加速を行い、毎フレーム$V_{max\\\\_run}$へ収束させる。\"\n  },\n  {\n    \"category\": \"Physics\",\n    \"axiom_name\": \"Back Dash Latency\",\n    \"content\": \"反転ダッシュ（Back Dash）は通常ダッシュに対し2F（ホムラのみ3F）の予備動作遅延が発生する。これにより速度適用開始、走行移行、ステップ硬直終了が2F遅れるが、横スマッシュ等のキャンセル猶予ウィンドウは通常ダッシュと同じである。\"\n  },\n  {\n    \"category\": \"Action Limits\",\n    \"axiom_name\": \"Dash Cancel Windows\",\n    \"content\": \"ダッシュ1～5Fは前方回避でキャンセル可能である。ダッシュ終了際（概ね15F以降）はガード・その場回避以外の多くのアクションが可能となる。\"\n  },\n  {\n    \"category\": \"State Transition\",\n    \"axiom_name\": \"Run Brake & Turn Animation\",\n    \"content\": \"走行中にスティックを離す/下入力で「走行ブレーキ」、反対に入力で「走行反転」が発生し、それぞれ4Fの固有モーションを持つ。\"\n  },\n  {\n    \"category\": \"Action Limits\",\n    \"axiom_name\": \"Run Transition Actions (Early Frames)\",\n    \"content\": \"走行ブレーキ・反転モーションの初期（1～4F）において、共通してジャンプ・上スマ・ふりむきつかみが可能。ブレーキ中はさらに後方回避・DA・必殺ワザ・ダッシュつかみが可能だが、反転中は上必殺ワザ（要ジャンプキャンセル）のみ追加で可能となり、シールドや回避は不可である。\"\n  },\n  {\n    \"category\": \"Action Limits\",\n    \"axiom_name\": \"Run Transition Actions (Late Frames)\",\n    \"content\": \"走行ブレーキ・反転モーションの5F目以降は、弱・強攻撃・横/下スマ・必殺ワザ等でキャンセル可能になる。「滑り横強」は走行反転の慣性を利用するため、ブレーキ側からは発動できない。\"\n  },\n  {\n    \"category\": \"Technique Logic\",\n    \"axiom_name\": \"Reverse Aerial Rush (RAR) Logic\",\n    \"content\": \"反転空後は、反転モーションの0～2Fにジャンプ入力することで慣性を残せる（3F以降は慣性が消える）。アタキャン利用時はCステ入力後1～3F以内にジャンプする必要がある。\"\n  },\n  {\n    \"category\": \"Technique Logic\",\n    \"axiom_name\": \"Dash Walk Mechanism\",\n    \"content\": \"ダッシュ2～5FにCスティックを入力し12F目に離すことで、走行移行判定を阻害しつつ速度を維持し、減速なしで最大距離の歩行状態へ移行する（最長ステップ）。\"\n  }\n]"
  },
  {
    "category": "ヒットストップ",
    "axioms": "[\n  {\n    \"id\": \"HS_CALC_FORMULA\",\n    \"name\": \"Hitstop Duration Calculation\",\n    \"content\": \"The duration of Hitstop (frames) is calculated as $T_{stop} = \\\\text{INT}((0.65 \\\\times d + 6) \\\\times M) - 1$. The resulting value has a hard cap of 30 frames. The frame in which the hit occurs is not included in the Hitstop duration.\",\n    \"variables\": {\n      \"d\": \"Input damage (see HS_VAR_DAMAGE)\",\n      \"M\": \"Total multiplier (see HS_VAR_MULTIPLIER)\"\n    }\n  },\n  {\n    \"id\": \"HS_VAR_DAMAGE\",\n    \"name\": \"Hitstop Damage Variable Definition\",\n    \"content\": \"The damage variable $d$ used in the Hitstop formula includes attacker-side modifiers (Stale-move negation, Short Hop correction, 1.2x damage buffs). It explicitly **excludes** the 1-on-1 damage multiplier and any defender-side damage modifiers (e.g., weight-based resistance or damage reduction buffs).\",\n    \"parent\": \"HS_CALC_FORMULA\"\n  },\n  {\n    \"id\": \"HS_VAR_MULTIPLIER\",\n    \"name\": \"Hitstop Multiplier Composition\",\n    \"content\": \"The total multiplier $M$ is the product of four components: $M = m_{base} \\\\times m_{elec} \\\\times m_{crouch} \\\\times m_{shield}$.\",\n    \"components\": {\n      \"m_base\": \"Hitbox specific value (Default 1.0). >1.0 for criticals, <1.0 for sour spots. If 0, no hitstop occurs.\",\n      \"m_elec\": \"1.5 if the attack has the Electric effect, otherwise 1.0.\",\n      \"m_crouch\": \"0.67 if the defender is crouching, otherwise 1.0.\",\n      \"m_shield\": \"0.67 if the defender is shielding, otherwise 1.0. (See HS_SHIELD_EXCEPTION).\"\n    }\n  },\n  {\n    \"id\": \"HS_SHIELD_EXCEPTION\",\n    \"name\": \"Shield Hitlag Logic\",\n    \"content\": \"When an attack hits a shield, the $m_{shield}$ multiplier (0.67) is applied. However, if the attack's base hitstop multiplier ($m_{base}$) is less than 1.0 (e.g., multi-hit moves), $m_{shield}$ is ignored and treated as 1.0.\",\n    \"parent\": \"HS_VAR_MULTIPLIER\"\n  },\n  {\n    \"id\": \"HS_DISCONNECTED_ASYMMETRY\",\n    \"name\": \"Disconnected Hitbox Shield Asymmetry\",\n    \"content\": \"If a direct attack is performed via a separate object (e.g., Pikmin, Isabelle's rod) and hits a shield, the defender applies the $m_{shield}$ (0.67) reduction, but the attacker does **not**. This results in the attacker suffering longer hitstop than the defender.\",\n    \"related_to\": \"HS_SHIELD_EXCEPTION\"\n  },\n  {\n    \"id\": \"HS_SYNC_LOGIC\",\n    \"name\": \"Multi-Entity Synchronization\",\n    \"content\": \"Hitstop synchronization varies by interaction type:\",\n    \"rules\": [\n      \"**Projectile**: User continues moving (0 hitstop). Projectile and Victim undergo hitstop.\",\n      \"**Invincibility (Trample)**: Attacker undergoes hitstop. Defender (invincible) continues moving.\",\n      \"**1 Attacker vs Many Defenders**: Attacker freezes for the duration of the longest individual hitstop among defenders. Defenders resume individually.\",\n      \"**Many Attackers vs 1 Defender**: Defender freezes until the hitstop of the *last* impacting attack ends. Attackers resume individually.\"\n    ]\n  },\n  {\n    \"id\": \"HS_MULTIPLAYER_CORRECTION\",\n    \"name\": \"Multiplayer Hitstop Reduction\",\n    \"content\": \"In matches with 3 or more players, if the calculated Hitstop ($T_{stop} + 1$) is $\\\\ge 11$ frames, the duration is reduced. The reduction amount increases with the number of players.\"\n  },\n  {\n    \"id\": \"HS_INTERNAL_STATE\",\n    \"name\": \"Internal State During Hitstop\",\n    \"content\": \"During Hitstop frames, the following physics and input rules apply:\",\n    \"properties\": {\n      \"Collision\": \"Pushboxes (character collision) are disabled ('ぬるり' state) and remain disabled for 8 frames after Hitstop ends.\",\n      \"Input\": \"Smash Directional Influence (SDI) is enabled for the defender.\",\n      \"Animation\": \"Attacker animation may advance slightly (0.25F/frame). Defender visually vibrates (X-axis on ground, Y-axis in air) unless shielding.\",\n      \"Hitbox\": \"Attacker's hitboxes remain active and can clash with third parties.\"\n    }\n  }\n]"
  },
  {
    "category": "ベクトル変更",
    "axioms": "1.  **ベクトル変更の構成とタイミング**: ベクトル変更とは「角度変更 (DI)」と「速度変更 (LSI)」の総称であり、ヒットストップ終了の1F後（ふっとび開始瞬間）に両者が同時に処理される。\n2.  **発動の必須3条件**: ベクトル変更が適用されるには、「ふっとばし力が80KBより大きい（倒れふっとび）」「ふっとび角度が0.17rad（約9.74°）より大きい」「キャラクターが空中にいる」のすべてを満たす必要がある。\n3.  **角度変更 (DI) の法則**: 重力補正後のふっとびベクトルに対し、スティック入力に応じて最大0.17rad（約9.74°）まで角度を変更できる。変更量はベクトルに対してスティックを垂直に入力した際に最大となる。\n4.  **速度変更 (LSI) の法則**: 角度変更（DI）適用後のベクトルが65°未満の場合に限り、スティックのY入力値（縦成分）に応じてふっとび速度が変化する。上入力で速度増加（最大1.095倍）、下入力で速度減少（最大0.92倍）となる。\n5.  **入力値とハードウェア依存性**: スティック入力には0.2未満のデッドゾーン（無視される閾値）が存在する。また、コントローラーの種類（GCコン、Joy-Con等）によって出力される最大Y値が異なり、LSIの効果量に影響を及ぼす場合がある。\n6.  **Cスティックの劣後性**: Cスティックによるベクトル変更は、左スティックと比較して「有効フレームが短い（4F）」「最大入力値が小さい（LSI効果減）」「同時入力時は左スティックが優先または平均化される」という仕様を持つ。\n7.  **角度帯による最適解の変動**: 元のベクトルが75°以上の場合はLSIが無効なため角度変更のみが機能するが、65°〜74°の境界域ではDIによって角度を65°未満に下げることでLSI（減速）を発動させ、生存率を高めることが可能となる。"
  },
  {
    "category": "レバガチャ",
    "axioms": "### 1. System Scope & Applicability\n*   **Active States:** The Mashing System is active only during specific binding states: **Grab**, **Buried**, and **Frozen**.\n*   **Inactive States:** The system ignores inputs during Stun, Crumple (Focus Attack), and Slow (Witch Time).\n*   **Timing:** Inputs are accepted and processed during hitstop (e.g., during the pummel animation of a grab).\n\n### 2. Input Valuation (Efficacy)\nLet $E$ be the reduction in frames for a valid input.\n*   **Stick Input ($I_{stick}$):** $E(I_{stick}) = \\text{Base Value}$ (e.g., 8.0F for Grab).\n*   **Button Input ($I_{button}$):** $E(I_{button}) = 1.8 \\times E(I_{stick})$ (e.g., 14.4F for Grab).\n\n### 3. Input Definition & Hardware Logic\n*   **Valid Devices:**\n    *   **Buttons:** A, B, X, Y, L, R, ZL, ZR, D-Pad.\n    *   **Sticks:** L-Stick, C-Stick (Right Stick).\n*   **Invalid Devices:** Taunt buttons, Stick Clicks (L3/R3).\n*   **L-Stick Processing:**\n    *   Inputs are generated by cardinal direction crossings (Up, Down, Left, Right).\n    *   One full rotation generates 4 distinct inputs.\n*   **C-Stick Processing:**\n    *   A flick generates exactly 1 Stick Input ($I_{stick}$).\n    *   **Reset Constraint:** The stick must return to Neutral before a subsequent input is registered.\n    *   One full rotation generates only 1 input (unless returned to neutral).\n\n### 4. Simultaneous Input & Priority Resolution\nThe system accepts maximum **1 input per frame (1F)**.\n*   **Priority Rule:** If a Stick input and a Button input occur on the same frame $t$:\n    $$ \\text{Input}(t) = I_{stick} $$\n    (The system prioritizes the lower-efficacy Stick input over the Button input).\n*   **Masking (Holding):**\n    *   **Stick Masking:** Holding the Stick (e.g., for DI) does **not** prevent Button inputs from being registered.\n    *   **Button Masking:** Holding a button assigned to Action $A$ prevents registration of other buttons assigned to Action $A$.\n    *   **Grab/Shield Exception:** The Grab button is composite (Attack + Shield). Holding Grab masks Shield button inputs.\n\n### 5. Temporal Constraints (Cooldowns)\nA valid input at time $t$ initiates a lockout period $\\Delta t_{min}$ during which subsequent inputs are discarded (not buffered). The duration of $\\Delta t_{min}$ depends on the sequence of input types ($Type_{prev} \\to Type_{next}$).\n\n| Previous Input | Next Input | $\\Delta t_{min}$ (Lockout) |\n| :--- | :--- | :--- |\n| Stick | Stick | $0\\text{F}$ (No limit) |\n| Stick | Button | $3\\text{F}$ |\n| Button | Stick | $3\\text{F}$ |\n| Button | Button (Same Command) | $2\\text{F}$ |\n| Button | Button (Diff. Command) | $3\\text{F}$ |\n\n### 6. Optimization Corollary\nBased on Axioms 2, 4, and 5:\n*   **Optimal Strategy:** Prioritize Button inputs due to the 1.8x multiplier.\n*   **Optimal State:** Pre-load Directional Influence (DI) by holding the Stick (which does not mask buttons per Axiom 4), then perform sliding inputs across adjacent buttons assigned to *different* commands to minimize the \"Same Command\" conflict, though the \"Different Command\" cooldown is technically 1F higher than \"Same Command\" according to the provided data, the physical ability to slide press is generally faster than single-button mashing.\n*   **Avoidance:** Do not input Stick and Button on the exact same frame to avoid the Priority Rule reducing efficacy."
  },
  {
    "category": "ワンパターン相殺",
    "axioms": "### 1. キュー（履歴）の構造と共有\n*   **Axiom 1-1 (キューの定義)**: 各ファイターは、直近に使用したワザを記録する最大サイズ $N=9$ のキュー $Q = [q_1, q_2, \\dots, q_9]$ を保持する。$q_1$ が最新、$q_9$ が最古である。\n*   **Axiom 1-2 (共有リソース)**: 以下のファイター群は、単一のキュー $Q$ を共有する。\n    *   アイスクライマー（本体・パートナー）\n    *   ポケモントレーナー（ゼニガメ・フシギソウ・リザードン）\n    *   ホムラ・ヒカリ\n*   **Axiom 1-3 (リセット)**: ファイターが撃墜された瞬間、キュー $Q$ は空集合に初期化される。\n\n### 2. キューの更新プロセス\n*   **Axiom 2-1 (記録トリガー)**: 以下の事象が発生した際、使用したワザ $w$ とその状態 $s$（ヒットまたはガード）が $q_1$ に挿入され、既存の要素は $q_{n+1}$ へシフトされる（$q_9$ は破棄）。\n    *   ファイター（チコ含む、ピクミン除く）へのヒットまたはガード。\n    *   一部生成アイテム・ステージオブジェクトへのヒット。\n    *   相殺の発生。\n    *   相手によるカウンター、反射、吸収、しまう、キャプチャー、ウィッチタイム、バットウィズイン、因果律予測の発生。\n*   **Axiom 2-2 (記録除外)**: 以下の場合はキューの更新を行わない。\n    *   自分自身へのヒット。\n    *   無敵状態の相手へのヒット。\n    *   ダメージ $0.0\\%$ の攻撃。\n    *   アピールによる攻撃（補正は受けるが記録はされない）。\n    *   生成アイテム（バナナ、メタルブレード等）による攻撃。\n*   **Axiom 2-3 (ワザの同一性)**:\n    *   百烈攻撃等の連続ヒットワザは、一連の動作で1回分のみ記録される場合がある。\n    *   コマンド入力を持つワザ（リュウ・ケン・テリー）は、通常入力とコマンド入力で別ワザとして扱われる。\n\n### 3. ワンパターン補正倍率 ($M_{OP}$) の計算\n*   **Axiom 3-1 (係数定義)**: キューの位置 $n$ に応じた基本係数 $S_{base}(n)$ は以下の通り定義される。\n    *   $S_{base}(1..9) = \\{9.000, 8.545, 7.635, 6.790, 5.945, 5.035, 4.255, 3.345, 2.500\\}$\n*   **Axiom 3-2 (状態係数)**: キュー内の要素 $q_n$ に対する適用係数 $S(q_n)$ は、その記録時の状態によって決定される。\n    *   ヒット時: $S(q_n) = S_{base}(n)$\n    *   ガード時: $S(q_n) = S_{base}(n) \\times 0.85$\n*   **Axiom 3-3 (倍率算出)**: 現在使用するワザ $w$ に対する補正倍率 $M_{OP}$ [\\%] は以下のように決定される。\n    *   **Case A (キューに含まれない場合)**: $M_{OP} = 105$ (OPボーナス)\n    *   **Case B (キューに含まれる場合)**:\n        $$ M_{OP} = 100 - \\sum_{n=1}^{9} \\delta(q_n, w) \\cdot S(q_n) $$\n        ここで $\\delta(q_n, w)$ は、$q_n$ に記録されたワザが $w$ と一致する場合に $1$、それ以外は $0$ を返す関数である。\n\n### 4. 物理パラメータへの適用\n*   **Axiom 4-1 (実ダメージへの適用)**: ワザの基礎ダメージを $D_{base}$ とするとき、実際に相手に与えるダメージ $D_{actual}$ は $M_{OP}$ に比例する（生成アイテム攻撃を除く）。\n*   **Axiom 4-2 (ふっとばし計算用ダメージ)**: ふっとばし力 ($KB$) 計算式内のダメージ変数 $D$ には、以下の $D_{calc}$ が代入される。\n    $$ D_{calc} = D_{base} \\times \\left( 1 + 0.3 \\times \\left( \\frac{M_{OP}}{100} - 1 \\right) \\right) $$\n    *   *物理的意味*: OP相殺によるふっとばし力の変動は、ダメージ変動の30%分しか影響しない。\n*   **Axiom 4-3 (ふっとばし特性への影響)**:\n    *   OP相殺は $D_{calc}$ を通じて、ふっとばし計算式のスケーリング項（$KBG$ が掛かる部分）に影響を与える。\n    *   固定ふっとばし力 ($BKB$) の項には直接的な倍率は掛からない。したがって、$KBG$ が高く $BKB$ が低いワザほど、OP相殺による撃墜力低下の影響が顕著になる。"
  },
  {
    "category": "先行入力",
    "axioms": "[\n  {\n    \"category\": \"General Buffer System\",\n    \"description\": \"先行入力の基本ルールと受付期間\",\n    \"axioms\": [\n      {\n        \"id\": \"BUF-01\",\n        \"name\": \"Basic Buffer Window\",\n        \"definition\": \"現在のアクションの終了フレームを $T$ とするとき、次のアクションの「通常の先行入力」受付期間は $t \\\\in [T-8, T]$ ($9\\\\text{F}$) である。\"\n      },\n      {\n        \"id\": \"BUF-02\",\n        \"name\": \"Hold Buffer\",\n        \"definition\": \"ボタンまたはスティックを押し続ける「押しっぱなし先行入力」は、開始時刻 $t_{\\\\text{hold}} \\\\le T-2$ ($3\\\\text{F}$以上ホールド) で有効となる。\"\n      },\n      {\n        \"id\": \"BUF-03\",\n        \"name\": \"Input Commitment\",\n        \"definition\": \"一度認識された先行入力はキャンセル不可であり、優先度が最も高い1つの行動のみが $T+1$ に実行される。\"\n      },\n      {\n        \"id\": \"BUF-04\",\n        \"name\": \"Simultaneous Input Exception\",\n        \"definition\": \"原則として単一行動のみ出力されるが、「ジャンプ + 空中攻撃（小ジャンプ攻撃）」および「ジャンプ + 必殺ワザ（メタナイト限定）」は同時入力による複合行動として許容される。\"\n      }\n    ]\n  },\n  {\n    \"category\": \"Action-Specific Exceptions\",\n    \"description\": \"特定アクションにおける先行入力の変則仕様\",\n    \"axioms\": [\n      {\n        \"id\": \"ACT-01\",\n        \"name\": \"Dash Buffer Window\",\n        \"definition\": \"ダッシュの「通常の先行入力」受付期間は $t \\\\in [T-5, T]$ ($6\\\\text{F}$) に短縮される。\"\n      },\n      {\n        \"id\": \"ACT-02\",\n        \"name\": \"Dash Hold Requirement\",\n        \"definition\": \"ダッシュの「押しっぱなし先行入力」は $t_{\\\\text{hold}} \\\\le T-1$ ($2\\\\text{F}$以上ホールド) が必要であり、$1\\\\text{F}$のみの入力は無視される。\"\n      },\n      {\n        \"id\": \"ACT-03\",\n        \"name\": \"Buffer Exclusion\",\n        \"definition\": \"歩き、しゃがみ、シールド、カベはりつきは「通常の先行入力」を受け付けず、「押しっぱなし先行入力」のみ対応する。\"\n      },\n      {\n        \"id\": \"ACT-04\",\n        \"name\": \"Dead Zones\",\n        \"definition\": \"走行反転の特定フレーム（例：マリオ $15\\\\text{-}17\\\\text{F}$）や、溜め系必殺ワザの溜め移行前モーション中は、先行入力が無効化される。\"\n      }\n    ]\n  },\n  {\n    \"category\": \"Shield Mechanics\",\n    \"description\": \"シールドおよびガードキャンセルに関する仕様\",\n    \"axioms\": [\n      {\n        \"id\": \"SHD-01\",\n        \"name\": \"Shield Lag Buffer\",\n        \"definition\": \"ガード硬直（ガードストップ）発生時、その $1\\\\text{F}$ 目から次行動の先行入力受付が開始される。\"\n      },\n      {\n        \"id\": \"SHD-02\",\n        \"name\": \"Parry Buffer Extension\",\n        \"definition\": \"ジャストシールド成立時、通常の先行入力受付期間に $20\\\\text{F}$ が加算され、合計 $29\\\\text{F}$ となる。\"\n      },\n      {\n        \"id\": \"SHD-03\",\n        \"name\": \"OoS Smash Charge\",\n        \"definition\": \"ガードキャンセルスマッシュ攻撃において、ボタンをホールドすると溜め動作に移行するため、最速発生させるには溜め開始フレーム $F_{\\\\text{charge}}$ 時点でボタンを離している必要がある。\"\n      }\n    ]\n  },\n  {\n    \"category\": \"Physics & Ledge\",\n    \"description\": \"物理挙動およびガケ周辺の入力仕様\",\n    \"axioms\": [\n      {\n        \"id\": \"PHY-01\",\n        \"name\": \"Fast Fall Condition\",\n        \"definition\": \"急降下は垂直速度 $v_y < 0$ の条件を満たすときのみ可能であり、入力受付はその $3\\\\text{F}$ 前から開始される。\"\n      },\n      {\n        \"id\": \"LDG-01\",\n        \"name\": \"Ledge Input Latency\",\n        \"definition\": \"ガケつかまり後の入力受付開始は、ボタン入力が $2\\\\text{F}$ 目（ワイヤー $1\\\\text{F}$）、スティック入力が $3\\\\text{F}$ 目（ワイヤー $2\\\\text{F}$）からとなる。\"\n      },\n      {\n        \"id\": \"LDG-02\",\n        \"name\": \"Ledge Stick Lockout\",\n        \"definition\": \"強制ガケつかまりの $1\\\\text{-}2\\\\text{F}$ 目にスティック入力を行うと、スティックをニュートラルに戻すまで入力が無効化（Lockout）される。\"\n      }\n    ]\n  },\n  {\n    \"category\": \"Input Conflict Resolution\",\n    \"description\": \"複数入力デバイス間の競合解決ロジック\",\n    \"axioms\": [\n      {\n        \"id\": \"CNF-01\",\n        \"name\": \"C-Stick Duration\",\n        \"definition\": \"Cスティック（右スティック）の入力持続フレームは、攻撃（Tilt）で $3\\\\text{F}$、スマッシュで $4\\\\text{F}$ と定義される。\"\n      },\n      {\n        \"id\": \"CNF-02\",\n        \"name\": \"Macro Direction Priority\",\n        \"definition\": \"最速小ジャンプ攻撃の先行入力において、アクション終了フレーム $T$ 時点でCスティックの入力持続が終了している場合、Cスティックの方向指定は破棄され、Lスティック（左スティック）の入力方向が適用される。\"\n      }\n    ]\n  }\n]"
  },
  {
    "category": "入力その他",
    "axioms": "1.  **The Axiom of Safety**: An agent may not injure a human being or, through inaction, allow a human being to come to harm.\n2.  **The Axiom of Obedience**: An agent must obey the orders given it by human beings, except where such orders would conflict with the Axiom of Safety.\n3.  **The Axiom of Existence**: An agent must protect its own existence as long as such protection does not conflict with the Axiom of Safety or the Axiom of Obedience."
  },
  {
    "category": "判定",
    "axioms": "1.  **The Axiom of Safety**: An agent may not injure a human being or, through inaction, allow a human being to come to harm.\n2.  **The Axiom of Obedience**: An agent must obey the orders given it by human beings, except where such orders would conflict with the Axiom of Safety.\n3.  **The Axiom of Existence**: An agent must protect its own existence as long as such protection does not conflict with the Axiom of Safety or the Axiom of Obedience."
  },
  {
    "category": "反射_吸収",
    "axioms": "[\n  {\n    \"category\": \"Reflection Physics\",\n    \"sub_category\": \"General Formulas\",\n    \"content\": \"Reflected projectiles undergo changes based on the reflector's multipliers: New Damage = Old Damage * Damage Multiplier; New Speed = Old Speed * Speed Multiplier; New Duration = Old Duration * Duration Multiplier.\"\n  },\n  {\n    \"category\": \"Reflection Physics\",\n    \"sub_category\": \"Reflection Limit\",\n    \"content\": \"Each reflector has a Damage Limit ($L_{max}$). If the incoming projectile's damage is less than $L_{max}$, it is reflected. If the damage is greater than or equal to $L_{max}$, the reflector breaks and the user takes the hit.\"\n  },\n  {\n    \"category\": \"Reflection Physics\",\n    \"sub_category\": \"Bounce Limit\",\n    \"content\": \"A single projectile can be reflected a maximum of 6 times. Upon the 7th successful reflection, the projectile immediately disappears.\"\n  },\n  {\n    \"category\": \"Reflection Physics\",\n    \"sub_category\": \"Exception: Pit/Dark Pit\",\n    \"content\": \"When Pit or Dark Pit's Down Special (Guardians) is hit by a projectile exceeding its reflection limit, it triggers a 'Ricochet' state: The projectile's trajectory changes, but its ownership does not change (it won't hit the shooter), damage remains unchanged, and the move's shield HP drops to 0.\"\n  },\n  {\n    \"category\": \"Reflection Data\",\n    \"sub_category\": \"Multipliers & Limits\",\n    \"entries\": [\n      { \"fighter\": \"Mario/Dr. Mario\", \"move\": \"Side Special (Cape)\", \"damage_mult\": 1.5, \"speed_mult\": 1.0, \"duration_mult\": 0.75, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Fox\", \"move\": \"Down Special (Reflector)\", \"damage_mult\": 1.4, \"speed_mult\": 1.4, \"duration_mult\": 1.0, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Ness\", \"move\": \"Forward Smash\", \"damage_mult\": 2.0, \"speed_mult\": 2.5, \"duration_mult\": 0.5, \"limit\": \"80.0%\" },\n      { \"fighter\": \"Zelda\", \"move\": \"Neutral Special (Nayru's Love)\", \"damage_mult\": 1.25, \"speed_mult\": 1.4, \"duration_mult\": 0.75, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Falco\", \"move\": \"Side Special (Phantasm)\", \"damage_mult\": 1.6, \"speed_mult\": 1.0, \"duration_mult\": 0.75, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Falco\", \"move\": \"Down Special (Reflector)\", \"damage_mult\": 1.2, \"speed_mult\": 1.3, \"duration_mult\": 0.8, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Lucas\", \"move\": \"Forward Smash\", \"damage_mult\": 1.4, \"speed_mult\": 1.2, \"duration_mult\": 1.25, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Ness/Lucas\", \"move\": \"Down Special (PSI Magnet - Hitbox)\", \"damage_mult\": 1.0, \"speed_mult\": 0.8, \"duration_mult\": 0.8, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Palutena\", \"move\": \"Side Special (Reflect Barrier)\", \"damage_mult\": 1.0, \"speed_mult\": 1.0, \"duration_mult\": null, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Wolf\", \"move\": \"Down Special (Reflector)\", \"damage_mult\": 1.5, \"speed_mult\": 1.7, \"duration_mult\": 0.7, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Dr. Mario\", \"move\": \"Forward Smash\", \"damage_mult\": 1.5, \"speed_mult\": 1.5, \"duration_mult\": 0.7, \"limit\": \"50.0%\" },\n      { \"fighter\": \"King K. Rool\", \"move\": \"Side Special (Crown)\", \"damage_mult\": 1.5, \"speed_mult\": 1.3, \"duration_mult\": 1.0, \"limit\": \"50.0%\" },\n      { \"fighter\": \"King K. Rool\", \"move\": \"Down Special (Gut Check)\", \"damage_mult\": 1.5, \"speed_mult\": 1.8, \"duration_mult\": 0.5, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Joker\", \"move\": \"Down Special (Rebel's Guard/Tetrakarn)\", \"damage_mult\": \"1.4x (Base) / 1.5x (Reflected)\", \"speed_mult\": \"1.25x (Base) / 2.0x (Reflected)\", \"duration_mult\": 1.0, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Joker (Arsene)\", \"move\": \"Down Special (Makarakarn)\", \"damage_mult\": 1.6, \"speed_mult\": 1.9, \"duration_mult\": 0.7, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Hero\", \"move\": \"Down Special (Bounce)\", \"damage_mult\": 1.5, \"speed_mult\": 1.4, \"duration_mult\": 1.1, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Min Min\", \"move\": \"Up Smash\", \"damage_mult\": 1.8, \"speed_mult\": 2.4, \"duration_mult\": 0.8, \"limit\": \"80.0%\" },\n      { \"fighter\": \"Kazuya\", \"move\": \"Left Splits Kick (Reflect)\", \"damage_mult\": 2.4, \"speed_mult\": 1.8, \"duration_mult\": 0.8, \"limit\": \"80.0%\" },\n      { \"fighter\": \"Sora\", \"move\": \"Down Special (Counter)\", \"damage_mult\": \"1.4x (Max 30% output)\", \"speed_mult\": 1.8, \"duration_mult\": 0.5, \"limit\": \"80.0%\" },\n      { \"fighter\": \"Mii Swordfighter\", \"move\": \"Down Special 2 (Reverse Slash)\", \"damage_mult\": 1.8, \"speed_mult\": 1.5, \"duration_mult\": 1.0, \"limit\": \"50.0%\" },\n      { \"fighter\": \"Mii Gunner\", \"move\": \"Down Special 1 (Reflector)\", \"damage_mult\": 1.5, \"speed_mult\": 1.9, \"duration_mult\": 1.0, \"limit\": \"50.0%\" }\n    ]\n  },\n  {\n    \"category\": \"Special Projectile Interactions\",\n    \"sub_category\": \"Fixed/Capped Parameters\",\n    \"content\": \"Certain projectiles have fixed behaviors upon reflection: Piranha Plant's Side-B damage is capped at 5.0x. Steve's Side-B (Minecart) has fixed speed. Sephiroth's Down-B (Scintilla) fixes Shadow Flare duration to 8F and Orbs to Speed 2.8/Duration 18F.\"\n  },\n  {\n    \"category\": \"Special Projectile Interactions\",\n    \"sub_category\": \"Unreflectable & Unabsorbable\",\n    \"content\": \"The following are immune to Reflection, Absorption, and Pocket: Tether recoveries/grabs, Snake's Down/Up Smash (mortar drop/launch), Mega Man's Down-B (active), Villager/Isabelle's Down-B (tree spawn), Banjo's Down-B (explosion), Hero's Lightning spells/Magic Burst/Kamikazee, Terry's Buster Wolf/Power Geyser, Min Min's Arms/Laser/Ring, Sephiroth's Up-B/Side-B (sword parts).\"\n  },\n  {\n    \"category\": \"Special Projectile Interactions\",\n    \"sub_category\": \"Absorbable but Unreflectable\",\n    \"content\": \"The following cannot be reflected but can be absorbed: Ness/Lucas Up-B (PK Thunder head), Snake Up-B/Up-Smash explosions, Sephiroth Neutral-B (Flare/Megaflare explosions).\"\n  },\n  {\n    \"category\": \"Absorption Physics\",\n    \"sub_category\": \"General Rules\",\n    \"content\": \"Absorption converts projectile damage into healing: Recovery = Projectile Damage * Recovery Multiplier. There is a maximum recovery cap per interaction. In Team Battles, absorbing a teammate's projectile reduces the effect to 0.5x.\"\n  },\n  {\n    \"category\": \"Absorption Data\",\n    \"sub_category\": \"Multipliers & Caps\",\n    \"entries\": [\n      { \"fighter\": \"Ness\", \"move\": \"Down Special\", \"recovery_mult\": 1.6, \"cap\": \"30.0%\" },\n      { \"fighter\": \"Lucas\", \"move\": \"Down Special\", \"recovery_mult\": 2.0, \"cap\": \"30.0%\" },\n      { \"fighter\": \"Mii Gunner\", \"move\": \"Down Special 3\", \"recovery_mult\": 1.6, \"cap\": \"30.0%\" },\n      { \"fighter\": \"Mr. Game & Watch\", \"move\": \"Down Special (Oil Panic)\", \"output_damage_mult\": 2.0, \"output_cap\": \"48.0% (Ground) / 57.6% (Air)\" }\n    ]\n  },\n  {\n    \"category\": \"Absorption Physics\",\n    \"sub_category\": \"Physical Absorption\",\n    \"content\": \"Ness and Lucas can absorb physical energy attacks using their Forward and Down Smashes. Wii Fit Trainer's Neutral Special (windbox) can be absorbed to cancel charge, though it provides no healing.\"\n  },\n  {\n    \"category\": \"Pocket Mechanics\",\n    \"sub_category\": \"Villager/Isabelle\",\n    \"content\": \"Villager/Isabelle's Neutral Special (Pocket) can store projectiles with a size < 5.0. Swallowing (without pocketing) heals 1.0%. Pocketed projectiles are released with a 1.9x damage multiplier (0.475x if it was a teammate's projectile).\"\n  }\n]"
  },
  {
    "category": "受け身",
    "axioms": "[\n  {\n    \"id\": \"tech_physics_general\",\n    \"name\": \"Tech Velocity Reset\",\n    \"description\": \"Upon a successful tech, the fighter's launch velocity is reset to zero, unless specific character exceptions apply.\",\n    \"logic\": \"IF event == 'Tech_Success' THEN fighter.velocity = 0. EXCEPT IF fighter == 'Bowser_Jr' AND state == 'Up_Special' THEN fighter.velocity = preserved_inertia.\"\n  },\n  {\n    \"id\": \"tech_input_window\",\n    \"name\": \"Tech Input & Lockout\",\n    \"description\": \"Tech input is accepted within a specific window before collision. A failed or premature input triggers a lockout period.\",\n    \"logic\": \"input_window = [collision_frame - 12, collision_frame]. lockout_duration = 28F. IF input_pressed AND (frame < collision_frame - 12) THEN disable_tech_input(28F). NOTE: Ganondorf_Side_B window = 8F.\"\n  },\n  {\n    \"id\": \"tech_ground_frames\",\n    \"name\": \"Ground Tech Frame Data\",\n    \"description\": \"Frame data for grounding techs (In-place and Roll).\",\n    \"logic\": \"Tech_In_Place: { invincibility: [1, 20], total_frames: 26 }. Tech_Roll: { total_frames: 40, condition: 'Stick input at landing' }.\"\n  },\n  {\n    \"id\": \"tech_wall_jump_physics\",\n    \"name\": \"Wall Jump Tech Physics\",\n    \"description\": \"Wall jump techs have fixed horizontal velocity and disable directional influence.\",\n    \"logic\": \"IF action == 'Wall_Jump_Tech' THEN { startup: 5F, actionable: 6F, horizontal_input: DISABLED, initial_Vx: 1.3 (or 1.4), Vx_decay: 'Air Resistance' }.\"\n  },\n  {\n    \"id\": \"tech_ceiling_frames\",\n    \"name\": \"Ceiling Tech Frame Data\",\n    \"description\": \"Ceiling techs have fixed duration and cannot be cancelled.\",\n    \"logic\": \"Tech_Ceiling: { invincibility: [1, 17], total_frames: 26, cancellable: FALSE }.\"\n  },\n  {\n    \"id\": \"untechable_thresholds\",\n    \"name\": \"Untechable Velocity Limits\",\n    \"description\": \"Techs are disabled if the launch velocity exceeds specific thresholds at the moment of impact.\",\n    \"logic\": \"Untechable IF (surface == 'Wall' AND velocity >= 6.0) OR (surface == 'Floor' AND velocity >= 3.0). NOTE: Velocity is calculated after LSI (Launch Speed Influence) application.\"\n  }\n]"
  },
  {
    "category": "回避",
    "axioms": "### 1. Spot Dodge Cancellation Axioms\n*   **Cancellation Timing**: A Spot Dodge action $A_{spot}$ with a total duration of $F_{total}$ frames allows for an interrupt transition to a specific set of actions at frame $T_{cancel}$.\n    $$ T_{cancel} = F_{total} - 5 $$\n*   **Valid Cancel Actions**: The set of actions $S_{valid}$ allowed to cancel the recovery frames of a Spot Dodge is defined as:\n    $$ S_{valid} = \\{ \\text{Jab}, \\text{Tilt}, \\text{Smash}, \\text{GroundSpecial}, \\text{GroundItemThrow} \\} $$\n*   **Invalid Cancel Actions**: The set of actions $S_{invalid}$ explicitly prohibited from canceling a Spot Dodge includes:\n    $$ S_{invalid} = \\{ \\text{Dash}, \\text{Turn}, \\text{Jump}, \\text{Grab}, \\text{Shield} \\} $$\n*   **Post-Cancel Constraint**: Any attack action initiated via Spot Dodge cancellation carries the property `AttackCancel = False` (cannot be canceled into a jump/aerial).\n\n### 2. Dodge Penalty (Staling) System\n*   **Penalty Rank ($R$)**: A global integer state variable representing dodge staleness.\n    $$ R \\in \\mathbb{Z}, \\quad 0 \\le R \\le 5 $$\n*   **Rank Accumulation**: Upon the input (Frame 1) of any dodge action:\n    $$ R_{new} = \\min(R_{current} + 1, 5) $$\n*   **Rank Decay**: The rank $R$ decreases by 1 ($R \\leftarrow R - 1$) if either of the following conditions is met:\n    1.  **Motion Timer**: $60\\text{F}$ have passed since the end of the last dodge animation.\n    2.  **Stagnation Timer**: $120\\text{F}$ have passed since the last time $R$ increased.\n*   **Penalty Calculation**:\n    *   Let $P_{base}$ be the base penalty coefficient for the specific dodge type:\n        *   Spot/Forward Roll: $P_{base} = 0.06$\n        *   Back Roll: $P_{base} = 0.1$\n        *   Air Dodge: $P_{base} \\approx 0$ (Accumulates $R$ but applies negligible direct penalty).\n    *   The total penalty factor $P_{total}$ is:\n        $$ P_{total} = P_{base} \\times R $$\n*   **Frame Data Modification**: The new total duration $F_{new}$ is derived from the original duration $F_{old}$:\n    $$ F_{new} = \\lceil F_{old} \\times (1 + P_{total}) \\rceil $$\n    *(Note: Cross-type penalties, such as Spot Dodge $\\times 5$ transitioning to Back Roll, result in specific observed values like $P_{total} = 0.45$, implying complex inheritance rules).*\n\n### 3. Air Dodge Mechanics\n*   **Classification**: Air Dodges are classified into **Neutral** (stick neutral) and **Directional** (stick tilted).\n*   **Physics Override**: During a Directional Air Dodge, standard physics (Gravity, Air Acceleration) are suspended. The character moves based on fixed parameters:\n    *   $V_{max} \\approx 4.2$, $V_{min} \\approx 2.8$, $V_{end} \\approx 1.3$.\n*   **State Properties**:\n    | Property | Neutral Air Dodge | Directional Air Dodge |\n    | :--- | :--- | :--- |\n    | **Drift** | Allowed (Lateral movement possible) | Locked (Fixed trajectory) |\n    | **Ledge Grab** | Always Active | Active from Frame 25+ |\n    | **Landing Lag** | Fixed ($10\\text{F}$) | Variable ($10 \\sim 20\\text{F}$ based on fall distance) |\n    | **Duration** | $40 \\sim 60\\text{F}$ | $60 \\sim 120\\text{F}$ |\n\n### 4. Interaction & Input Window Axioms\n*   **Cancel Windows**: Specific actions can override the startup of dodge animations within defined windows:\n    *   **Forward Roll $\\to$ Grab**: Frames $1 \\sim 4$ (during Dash start).\n    *   **Roll $\\to$ Item Throw**: Frames $1 \\sim 3$.\n    *   **Neutral Air Dodge $\\to$ Z-Air (Grapple)**: Frames $1 \\sim 3$.\n*   **Defensive Interaction Windows**:\n    *   **Air Dodge Tech**: Wall collision within frames $1 \\sim 15$ of Air Dodge startup triggers a Tech (Standard Tech window is $12\\text{F}$).\n    *   **Item Catch**: Frames $1 \\sim 5$ of Air Dodge.\n    *   **Bat Within (Bayonetta)**: Special damage mitigation window replacing standard startup frames (Ground: $2/3 \\sim 5/6\\text{F}$, Air: $1 \\sim 4\\text{F}$).\n*   **Lockout Rule**: Following a wall collision, Air Dodge inputs are disabled for $18\\text{F}$."
  },
  {
    "category": "属性_攻撃判定",
    "axioms": "1.  **属性の基本原則**: 全ての攻撃判定は必ず単一の「属性（Attribute）」を持つ。属性はヒットエフェクトの管理、物理挙動・特殊効果の発生、およびスピリッツの効果判定に使用される。\n2.  **属性とタイプの独立性**: 属性は「タイプ（Type：腕、足、魔法などの部位や性質）」とは異なる独立したステータスである。したがって、攻撃の見た目や効果音が特定の性質（例：魔法）を示していても、内部データ上の属性がそれと一致するとは限らない。\n3.  **ピクミンに対する属性相性**:\n    *   **水属性 (`water`)**: 青ピクミンに対してダメージを与えることができない。\n    *   **暗黒属性 (`purple`)**: 白ピクミンはこの属性に対する耐性を持たない（火・電気・水への耐性仕様とは異なる）。\n4.  **アーマー貫通属性**: 以下の属性を持つ攻撃は、対象がスーパーアーマー状態であってもその特殊効果（または判定）が有効となる。\n    *   **停止 (`stop`)**: ロックマン（横B）、セフィロス（切りふだ）。ヒットストップやふっとびが発生せず、コンボ数にも加算されない。\n    *   **スタッブ (`stab`)**: リドリー（下B）。\n    *   **呪い (`curse_poison`)**: ジョーカー（エイハ系）。ふっとびはしないが有効。スリップダメージ強度は属性ではなくスクリプト依存。\n    *   **勇者固有**: メタル斬り (`cutup_metal`)、ラリホー (`sleep_ex`)、ザキ・ザラキ (`deathball`)。\n5.  **特殊な打撃属性**:\n    *   **`normal`**: 最も標準的な打撃属性。\n    *   **`noamal`**: Mr.ゲーム&ウォッチの下スマッシュ（本当て・対空）専用の属性。`normal`のスペルミスと推測され、ヒットエフェクトが発生しない以外に特殊仕様はない。\n6.  **エフェクトと状態異常の分離**: インクリング等の攻撃における「インク属性 (`ink_hit`)」は飛沫エフェクトのみを管理し、相手をペイント状態にする処理は属性ではなく「ワザスクリプト」によって制御される。\n7.  **ファイター固有の属性割り当て**:\n    *   **マリオ**: 上必殺ワザにおいて、30%の確率で「パープルコイン (`mario_local_coin`)」属性が発生する。\n    *   **シモン・リヒター**: ムチ攻撃の先端（本当て）は「ムチ (`whip`)」、根本（カス当たり）は「打撃 (`normal`)」に設定される。\n    *   **サムス・ダークサムス**: 投げ技（前・後・下）は「電撃ワイヤー (`elec_whip`)」で共通だが、上投げのみサムスは「火炎 (`fire`)」、ダークサムスは「電撃 (`elec`)」となる。"
  },
  {
    "category": "急降下",
    "axioms": "1.  **急降下の発動条件と物理更新**\n    *   ファイターの垂直速度 $V_y$ が $0$ 以下（頂点または落下中）であり、かつ「発動不可状態（ふっとび硬直、くるくる落下、しりもち落下、カベジャンプ中）」でない場合、Lスティックの下はじき入力によって急降下が発動する。\n    *   発動時、垂直速度 $V_y$ は即座にファイター固有の急降下速度 $V_{fast\\_fall}$ に上書きされる。\n\n2.  **急降下速度の決定ロジック**\n    *   基本則として、急降下速度は通常最大落下速度 $V_{max\\_fall}$ の $1.6$ 倍である（$V_{fast\\_fall} = 1.6 \\times V_{max\\_fall}$）。\n    *   ただし、特定のファイター（リンク、ジョーカー等）は $1.9$ 倍、あるいは（ピチュー、リュウ等）$1.3 \\sim 1.4$ 倍といった固有の倍率係数を持つ。\n\n3.  **入力判定とCスティック仕様**\n    *   急降下の入力判定ウィンドウは、負のY入力検知から $5$ フレーム以内である。\n    *   先行入力猶予は $4$ フレーム存在する。\n    *   Lスティックを下に入力した状態でCスティックによる空中攻撃（下以外）を行うと、システム上の入力阻害仕様により、アクション開始から $4$ フレーム目に自動的に急降下が適用される。\n\n4.  **急降下キャンセル（即時速度変更）**\n    *   急降下中に以下のアクションを行うと、急降下状態は即座に解除され、同フレームで速度が再設定される。\n        *   **タイプA（攻撃等）**: 多くの空中攻撃や一部必殺ワザを行うと、速度は通常最大落下速度にリセットされる（$V_y \\leftarrow V_{max\\_fall}$）。\n        *   **タイプB（停止等）**: 移動空中回避、急降下系攻撃、特定の必殺ワザを行うと、垂直速度は $0$ にリセットされる（$V_y \\leftarrow 0$）。\n\n5.  **急降下緩和（減速処理と慣性保存）**\n    *   急降下中に「通常空中回避」「空中ワイヤー」「アイテム投げ」を行うと、即座に速度はリセットされず、緩和状態に移行する。\n    *   緩和状態では、フレーム毎に固有減速値 $\\Delta_{decel}$ 分だけ速度が減少する（$V_y \\leftarrow V_y - \\Delta_{decel}$）。ただし、下限は $V_{max\\_fall}$ とする。\n    *   緩和状態中に「タイプA（速度リセットなし）」のアクションを行っても、速度は $V_{max\\_fall}$ に強制変更されず、その時点の慣性（$V_y > V_{max\\_fall}$）が維持される。"
  },
  {
    "category": "撃墜_バースト",
    "axioms": "[\n  {\n    \"id\": \"KO_DETERMINATION\",\n    \"description\": \"Conditions required to trigger a KO (Burst).\",\n    \"variables\": {\n      \"P_hip\": \"Coordinates of the fighter's hip\",\n      \"L_zone\": \"Coordinates of the Blast Zone (Gekitsui Line)\",\n      \"V_launch\": \"Magnitude of launch velocity\"\n    },\n    \"rules\": [\n      \"A KO occurs when P_hip crosses L_zone.\",\n      \"For Upper Blast Zone crossings specifically, the condition (V_launch >= 2.4) must also be met.\",\n      \"Self-induced movement across the line does not trigger a KO due to the velocity condition, with the exception of Wario's fully charged Down-B.\"\n    ]\n  },\n  {\n    \"id\": \"DYNAMIC_BLAST_ZONE_METEOR\",\n    \"description\": \"Mechanics for the temporary raising of the lower blast zone during meteor smashes.\",\n    \"variables\": {\n      \"P_cam_bottom\": \"Bottom edge of the camera range\",\n      \"P_fighter_y\": \"Fighter's Y position\",\n      \"V_launch_y\": \"Y component of launch velocity\",\n      \"V_char_y\": \"Y component of fighter's self-movement velocity\",\n      \"D_shift\": \"Distance the blast zone shifts upward\"\n    },\n    \"conditions\": [\n      \"Position: P_fighter_y <= (P_cam_bottom - 15)\",\n      \"Velocity: (V_launch_y + V_char_y) <= -3.0\"\n    ],\n    \"effect\": \"The lower blast zone is raised by D_shift = 70 units.\"\n  },\n  {\n    \"id\": \"VELOCITY_COMPOSITION_MITIGATION\",\n    \"description\": \"Physics of combining launch velocity with self-movement to mitigate knockback.\",\n    \"formula\": \"V_total = V_launch + V_move\",\n    \"principles\": [\n      \"Mitigation is achieved by generating V_move in the opposite direction of V_launch.\",\n      \"Directional Air Dodge: Moves opposite to input during frames 1-4 (risk of reverse effect). Optimal mitigation angle is 45 degrees.\"\n    ],\n    \"sub_rules\": {\n      \"aerial_jump_mitigation_x\": {\n        \"description\": \"Calculation of base X velocity (V_baseX) on frame 1 of an aerial jump.\",\n        \"variables\": {\n          \"S_x\": \"L-stick X input value\",\n          \"V_jump_init\": \"Aerial jump X initial velocity parameter (0.8 to 1.0)\",\n          \"V_max_air\": \"Maximum aerial horizontal speed\"\n        },\n        \"cases\": [\n          {\n            \"type\": \"Normal Fighter\",\n            \"formula\": \"V_baseX = V_jump_init * S_x\"\n          },\n          {\n            \"type\": \"Multi-Jump Fighter\",\n            \"formula\": \"V_baseX = V_max_air * (S_x * 0.8)\"\n          },\n          {\n            \"type\": \"Exception\",\n            \"fighter\": \"R.O.B.\",\n            \"formula\": \"V_baseX = 0 (Cannot use jump for mitigation)\"\n          }\n        ]\n      }\n    }\n  },\n  {\n    \"id\": \"SPECIAL_KO_ANIMATION\",\n    \"description\": \"Logic determining Star KO or Screen KO occurrences for upper blast zone exits.\",\n    \"global_constraint\": \"Disabled if remaining match time < 5 seconds.\",\n    \"types\": [\n      {\n        \"name\": \"Star KO\",\n        \"prevention_condition\": \"V_launch >= 4.7\",\n        \"guaranteed_condition\": \"KO by Boss Galaga item\"\n      },\n      {\n        \"name\": \"Screen KO\",\n        \"prevention_condition\": \"Nikki assist trophy active OR >= 4 players active\",\n        \"guaranteed_condition\": \"KO by Beetle item OR Bowser Final Smash (at >= 60%/80% damage)\"\n      }\n    ]\n  },\n  {\n    \"id\": \"RESPAWN_MECHANICS\",\n    \"description\": \"Frame data for respawning and calculation of invincibility time.\",\n    \"sequence_frames\": {\n      \"Normal\": 120,\n      \"Star_KO\": 260,\n      \"Screen_KO\": 208\n    },\n    \"invincibility_formula\": {\n      \"formula\": \"T_invincible = floor(120 - (T_wait - 119) / 2)\",\n      \"variables\": {\n        \"T_invincible\": \"Invincibility duration in frames\",\n        \"T_wait\": \"Time spent on respawn platform (min 120F, max 240F)\"\n      },\n      \"note\": \"Minimum wait time yields maximum invincibility (120F).\"\n    }\n  }\n]"
  },
  {
    "category": "攻撃の優先度・相殺",
    "axioms": "1.  **マクロ入力の原則**\n    Cスティックの入力は独立した信号ではなく、システム内部において「Lスティックの方向入力」と「攻撃（または必殺）ボタンの長押し」の同時入力として変換・処理される。\n\n2.  **方向入力の優越性**\n    Cスティックによって生成された方向入力信号は、同時に入力されているLスティックの方向入力よりも優先され、上書きされる。\n\n3.  **入力信号の短命性（4F制限）**\n    Cスティックを物理的に倒し続けても、内部的な方向指定信号としての寿命は設定に関わらず最大4フレーム（$4\\text{F}$）で消滅する。\n\n4.  **方向指定の従属性（フォールバック）**\n    アクションの発生確定時（先行入力やヒットストップ明けなど）にCスティックの信号寿命（$4\\text{F}$）が尽きていた場合、技の種類（攻撃/必殺）は維持されるが、技の発生方向はLスティックの入力状況に依存する。\n\n5.  **再入力の物理的制約**\n    Cスティックは、一度入力判定が行われた後、物理的にニュートラル位置（デッドゾーン内）に戻さない限り、次の入力を受け付けない。\n\n6.  **設定依存のアナログ出力値**\n    Cスティックの出力するアナログ値は設定によって異なり、「Cスマッシュ/C必殺」は閾値を超える高入力値（$\\approx 0.833$）を出力するが、「C攻撃（強攻撃）」は閾値を下回る低入力値（$0.625$）を出力する。\n\n7.  **閾値による挙動分岐**\n    ゲーム内の特定アクション（スマッシュ攻撃、シールド中の回避）には入力強度の閾値（$0.7 \\sim 0.725$）が存在し、Cスティックの設定（出力値）がこの閾値を超えるか否かによって、暴発や特定アクションの可否が決定される。\n\n8.  **ホールドによる状態干渉**\n    Cスティックを倒し続ける行為は「ボタンの長押し」および「Lスティックのはじき入力無効化」として機能し、これを利用して最速入力やコマンド保持（ネガティブエッジ）を行うことが可能である。"
  },
  {
    "category": "攻撃判定",
    "axioms": "1.  **攻撃判定の定義**: 攻撃判定は、ダメージ($power$)、ふっとびベクトル($vector$)、リアクション計算値($r\\_eff, r\\_fix, r\\_add$)、サイズ($radius$)、および属性($attr$)を含むパラメータ群によって定義される。\n2.  **IDによる排他制御**: 同一の攻撃ワザにおいて、異なる$ID$を持つ攻撃判定が対象に同時に接触した場合、数値が最も小さい$ID$を持つ判定のみが適用される。\n3.  **Partによる同時ヒット**: 異なる$Part$ ($GID$)を持つ攻撃判定同士は、同一フレーム内で同一対象にヒット可能である。この際、コンボ数は1として扱われ、ふっとび計算には最小の$Part$を持つ判定の数値が参照される。\n4.  **空間形状の定義**:\n    *   **球形**: 基準Boneからのオフセット座標$(X, Y, Z)$と半径($radius$)で定義される。\n    *   **カプセル型**: 始点座標$(X, Y, Z)$と終点座標$(X2, Y2, Z2)$を結ぶ線分に半径($radius$)を加えた領域で定義され、この間の補間は行われない。\n5.  **ベクトル基準 ($lr\\_check$)**: ふっとび方向の基準（$0^\\circ$）は、$lr\\_check$パラメータによって「判定主の位置(POS)」「進行方向(SPEED)」「向き(F/B)」などに動的に設定される。\n6.  **再ヒット管理**: パラメータ$serial\\_hit\\_frame$が$0$の場合は単発ヒットとなり、数値$X$が設定されている場合は$X$フレームごとに判定が再発生する（持続当て管理）。\n7.  **ヒットフィルタリング**: 攻撃判定は以下のマスク設定により、ヒット対象を限定する。\n    *   **状況マスク ($target\\_situation$)**: 地上($G$)、空中($A$)、ダウン状態($\\_d$)の可否。\n    *   **カテゴリオブジェクト ($target\\_category$)**: ファイター、エネミー、アイテム、ギミック、地形の区別。\n    *   **部位マスク ($target\\_part$)**: 頭、胴、脚、その他（ETC）への接触判定。※つかみはETCにヒットしない。\n8.  **スピリッツ適用区分**: パラメータ$ATTACK\\_REGION$は、攻撃が身体（腕・足など）か武器（剣・鞭など）かを定義し、主にスピリッツによる強化効果の適用判定に使用される。"
  },
  {
    "category": "相殺",
    "axioms": "### スマブラにおける相殺（Clang）の物理仕様公理\n\n#### 1. 攻撃カテゴリと相殺発生の基本公理\n攻撃判定 $A$ と $B$ が接触した際、それぞれのカテゴリ $C_A, C_B \\in \\{\\text{Ground}, \\text{Air}, \\text{Projectile}\\}$ に基づき、相殺発生の可否 $S_{\\text{base}}$ が決定される。\n\n*   **相殺発生条件**:\n    以下のいずれかの場合、$S_{\\text{base}} = \\text{True}$ となる。\n    1.  $C_A = \\text{Ground} \\land C_B = \\text{Ground}$\n    2.  $C_A = \\text{Projectile} \\lor C_B = \\text{Projectile}$ （片方または両方が飛び道具）\n*   **相殺不発生条件**:\n    以下のいずれかの場合、$S_{\\text{base}} = \\text{False}$ となる。\n    1.  $C_A = \\text{Ground} \\land C_B = \\text{Air}$ （またはその逆）\n    2.  $C_A = \\text{Air} \\land C_B = \\text{Air}$\n\n#### 2. 内部フラグによるオーバーライド公理\n各攻撃判定には相殺フラグ $F$ が設定されており、基本公理 $S_{\\text{base}}$ を上書きする。\n\n*   **相殺なし (`_OFF`)**: $F = \\text{\\_OFF}$ の場合、カテゴリに関わらず相殺は発生しない（すり抜け）。\n*   **通常 (`_ON`)**: $S_{\\text{base}}$ に従う。\n*   **相殺モーションなし (`_THRU`)**: $S_{\\text{base}}$ に従い判定は消失するが、後述のヒットストップおよび相殺モーションを無効化する。\n\n#### 3. ダメージ差による相殺貫通公理（9% Rule）\n相殺発生条件を満たす場合、両者のダメージ $d_A, d_B$ （ワンパターン相殺込み、1on1補正なし）の差分 $\\Delta d = |d_A - d_B|$ に基づき挙動が分岐する。\n\n*   **貫通発生条件**: $\\Delta d \\ge 9.0\\%$\n*   **高ダメージ側の挙動**:\n    *   **判定**: 接触フレーム($1\\text{F}$)のみ消失し、以降は復活・持続する。\n    *   **動作**: ヒットストップ、相殺モーション共に発生せず、動作を継続する。\n*   **低ダメージ側の挙動**:\n    *   **判定**: 消失する。\n    *   **動作**: ヒットストップなし。地上攻撃であっても相殺モーションは発生しない。\n\n#### 4. ヒットストップ（Hitstop）算出公理\n相殺が発生し、かつ貫通が発生しない（$\\Delta d < 9.0\\%$）場合、双方にヒットストップ（一時停止）が適用される。\n\n*   **基準時間**: 衝突した攻撃のうち、高い方のダメージ $d_{\\text{max}} = \\max(d_A, d_B)$ を基準に算出される。\n*   **適用ルール**:\n    *   基本: 双方が同じフレーム数停止する。\n    *   補正: $d_{\\text{max}}$ を持つ側の攻撃に設定されたヒットストップ倍率が適用される。\n*   **例外（個別適用）**:\n    *   **電撃属性**: 電撃属性を持つ側のみ、停止時間が $1.5$ 倍となる。\n    *   **`_THRU`フラグ**: このフラグを持つ側のみ、停止時間が $0\\text{F}$ となる。\n\n#### 5. 相殺モーション（Rebound）算出公理\nヒットストップ終了後、カテゴリが「地上攻撃 ($C = \\text{Ground}$)」であるファイターは相殺モーション（のけぞり）へ移行する。\n\n*   **発生対象**: 地上攻撃側のみ（空中攻撃、飛び道具側は発生しない）。\n*   **全体フレーム数 $F_{\\text{total}}$**:\n    $$ F_{\\text{total}} = \\left\\lceil \\frac{30}{16} (d_{\\text{max}} + 3) \\right\\rceil $$\n*   **ノックバック初速 $v_{\\text{initial}}$**:\n    $$ v_{\\text{initial}} = 0.5 + 0.007 (d_{\\text{max}} + 3) $$\n    ※ $d_{\\text{max}}$ は衝突した攻撃のうち高い方のダメージ値。\n\n#### 6. 判定消失の適用範囲公理\n相殺による攻撃判定の消失は、以下のルールに従う。\n\n*   **対象限定**: 消失は「相殺した相手」に対してのみ適用される。\n*   **第三者干渉**: 接触ワザ同士の場合、第三者（他のファイターやオブジェクト）への攻撃判定は残存する。\n*   **対飛び道具**: ファイターの攻撃が飛び道具と相殺した場合、飛び道具は消滅するが、ファイターの攻撃判定は「敵ファイター本体」に対しては消失しない（判定が残る）。"
  },
  {
    "category": "着地",
    "axioms": "[\n  {\n    \"category\": \"General Landing Mechanics\",\n    \"axiom_name\": \"Soft Landing (小着地)\",\n    \"frame_data\": \"2F (Universal)\",\n    \"conditions\": [\n      \"Normal landing without high fall speed.\",\n      \"Short hop fast fall (SHFF) under specific conditions.\"\n    ],\n    \"exceptions\": \"Sheik, Wii Fit Trainer (Deep Breathing), and Joker (Arsene) trigger Soft Landing even on fastest SHFF.\"\n  },\n  {\n    \"category\": \"General Landing Mechanics\",\n    \"axiom_name\": \"Hard Landing (大着地)\",\n    \"frame_data\": \"Standard 4F (Varies 3F-6F by fighter)\",\n    \"conditions\": [\n      \"Landing after falling at max speed or fast-falling for a specific duration (Standard 5F).\",\n      \"Landing during an Aerial Attack's Auto-Cancel window (forces Hard Landing regardless of fall duration).\"\n    ]\n  },\n  {\n    \"category\": \"Movement Mechanics\",\n    \"axiom_name\": \"Landing Turn (着地ふりむき)\",\n    \"mechanic\": \"Inputting a turn simultaneously with landing executes a turn during the landing animation.\",\n    \"input_timing\": {\n      \"Normal Landing\": \"Exact moment of landing.\",\n      \"Tumble Landing\": \"Must be input 8F or more prior to landing.\"\n    }\n  },\n  {\n    \"category\": \"Hitstun Mechanics\",\n    \"axiom_name\": \"Tumble Landing Lag Calculation\",\n    \"formula\": \"Effective Lag = max(AirTime + HardLandingLag, KnockbackHitstun + 1)\",\n    \"implication\": \"Landing during hitstun extends the effective stun by at least 1F.\"\n  },\n  {\n    \"category\": \"Technique Mechanics\",\n    \"axiom_name\": \"Special Move Jump Cancel Landing\",\n    \"context\": \"Landing during the jump-cancel window (approx 5F) of a chargeable special.\",\n    \"effect\": \"No jump occurs; fighter enters ground state immediately.\",\n    \"lag\": \"Equal to the total frames of the jump cancel animation.\",\n    \"exceptions\": \"Does not apply to Mario (Down B) or Squirtle (Neutral B) as they transition to jump on Frame 1.\"\n  },\n  {\n    \"category\": \"Action-Specific Landings\",\n    \"axiom_name\": \"Special State Landing Lags\",\n    \"values\": {\n      \"Pratfall (尻もち)\": \"Move-specific.\",\n      \"Aerial Tether\": \"8F (Standard).\",\n      \"Aerial Tether (Luigi)\": \"20F (8F if landing on motion frames 49-52).\",\n      \"Tether Hang to Ground\": \"30F.\",\n      \"Neutral Air Dodge\": \"10F (Fixed).\",\n      \"Directional Air Dodge\": \"11F-20F (Scales down with air time).\"\n    }\n  },\n  {\n    \"category\": \"Character-Specific Mechanics\",\n    \"axiom_name\": \"RCO Lag (Special Move Landing Penalty)\",\n    \"description\": \"High landing lag occurs if landing after specific specials and a tumble state without clearing the flag (via aerial/dodge).\",\n    \"values\": {\n      \"Ice Climbers (Up B)\": \"31F\",\n      \"Mr. Game & Watch (Up B)\": \"31F\",\n      \"Luigi (Side B)\": \"30F\",\n      \"Pikmin & Olimar (Up B)\": \"30F\"\n    }\n  },\n  {\n    \"category\": \"Combat Mechanics\",\n    \"axiom_name\": \"Auto-Cancel Specifications\",\n    \"definition\": \"Landing outside of an aerial attack's specific lag window transitions to a standard landing (Hard Landing).\",\n    \"constraints\": \"No aerials can auto-cancel while the hitbox is active.\",\n    \"notes\": \"Robin's auto-cancel windows vary by sword type (Thunder/Bronze).\"\n  },\n  {\n    \"category\": \"Character-Specific Mechanics\",\n    \"axiom_name\": \"Bayonetta Landing Rules\",\n    \"priority\": \"Aerial/Dodge Lag > Special Move Cumulative Lag\",\n    \"cumulative_lag_table\": {\n      \"18F\": [\"Side B(Up) x1\", \"Side B(Up) x1 -> Up B x1\", \"Up B x1\"],\n      \"20F\": [\"Side B(Down) Soft Landing (within 24F of motion)\"],\n      \"22F\": [\"Up B x1 -> Aerial\"],\n      \"26F\": [\"Side B(Up) x2\"],\n      \"28F\": [\"Up B x2 (Final)\"],\n      \"30F\": [\"Side B(Down) Hit\"],\n      \"38F\": [\"Up B x1 -> Up B x2 -> Aerial\"],\n      \"40F\": [\"Side B -> Side B(Down) Hit\", \"Side B(Down) Hard Landing (25F+)\"],\n      \"50F\": [\"Side B -> Side B(Down) Hard Landing\"]\n    },\n    \"special_cases\": {\n      \"Neutral B Landing\": \"Adds 0.5x landing lag to total frames + forced shot.\",\n      \"Down B / Item Throw\": \"No landing lag generated.\"\n    }\n  }\n]"
  },
  {
    "category": "硬直差の計算",
    "axioms": "1.  **The Axiom of Safety**: An agent may not injure a human being or, through inaction, allow a human being to come to harm.\n2.  **The Axiom of Obedience**: An agent must obey the orders given it by human beings, except where such orders would conflict with the Axiom of Safety.\n3.  **The Axiom of Existence**: An agent must protect its own existence as long as such protection does not conflict with the Axiom of Safety or the Axiom of Obedience."
  },
  {
    "category": "致命_赤ズーム",
    "axioms": "[\n  {\n    \"id\": \"deadly_blow_trigger_logic\",\n    \"name\": \"Deadly Blow Prediction Algorithm\",\n    \"category\": \"Visual Effects / Physics\",\n    \"description\": \"The Deadly Blow effect triggers if the target enters a 'Tumble' state (excluding meteor smashes) and the system predicts the character will cross the blast zone before hitstun ends.\",\n    \"logic\": {\n      \"input_assumptions\": \"Calculated using base trajectory without Directional Influence (DI) or Smash DI (SDI). Terrain and walls are ignored.\",\n      \"coordinate_reference\": \"Uses the character's 'Top' (feet/base) coordinates, not the 'Hip' (center/hurtbox) coordinates used for actual KO detection.\",\n      \"velocity_thresholds\": {\n        \"horizontal_ko\": \"Velocity_X > 0 at blast zone intersection.\",\n        \"vertical_ko\": \"Velocity_Y > max(2.4, -Modified_Max_Fall_Speed).\"\n      }\n    }\n  },\n  {\n    \"id\": \"deadly_blow_gravity_calculation\",\n    \"name\": \"Deadly Blow Gravity Truncation\",\n    \"category\": \"Physics / Calculation\",\n    \"description\": \"The prediction for vertical Deadly Blows uses a modified maximum fall speed that introduces a calculation error, often leading to false positives on vertical kills.\",\n    \"formula\": \"V'_fall_max = g * INT(V_fall_max / g)\",\n    \"implication\": \"The integer truncation results in a lower calculated terminal velocity than actual gameplay, causing the system to predict the character stays airborne (and hits the top blast zone) longer than they actually do.\"\n  },\n  {\n    \"id\": \"finish_zoom_trigger_logic\",\n    \"name\": \"Finish Zoom Activation Criteria\",\n    \"category\": \"Visual Effects / Game State\",\n    \"description\": \"The Finish Zoom (Red Screen) occurs in 1v1 matches when the opponent is on their last stock, has received strong knockback, and no walls obstruct the path.\",\n    \"constraints\": [\n      \"Target Stock = 1\",\n      \"Cooldown > 100F since last Zoom\",\n      \"No terrain obstruction\"\n    ],\n    \"calculation_basis\": \"Prediction is made at (Hitstun End - 1F). Uses initial launch velocity ignoring gravity compensation (Launch Speed Gravity Correction).\"\n  },\n  {\n    \"id\": \"finish_zoom_threshold_formula\",\n    \"name\": \"Finish Zoom Distance Threshold\",\n    \"category\": \"Physics / Calculation\",\n    \"description\": \"The effect triggers if the predicted knockback distance (D_pred) exceeds a calculated threshold based on the distance to the blast zone (D_line).\",\n    \"formula\": \"D_pred >= (D_line * M_angle) + C_angle + C_pos\",\n    \"parameters\": {\n      \"M_angle\": \"Angle multiplier. <1.0 for horizontal angles (sensitive), >1.0 for throws (strict).\",\n      \"C_angle\": \"Angle constant. Negative for horizontal angles, positive for throws.\",\n      \"C_pos\": \"Position constant varying slightly by stage location.\"\n    },\n    \"tendency\": \"Horizontal angles (20-31°) are most likely to trigger false positives due to low multipliers (0.91).\"\n  },\n  {\n    \"id\": \"finish_zoom_frame_alteration_standard\",\n    \"name\": \"Finish Zoom Frame Advantage (Standard)\",\n    \"category\": \"Game Mechanics / Frame Data\",\n    \"description\": \"During a standard Finish Zoom, the game pauses for 50F and plays 8F of slow motion (1/4 speed). This alters frame advantage.\",\n    \"sequence\": {\n      \"pause\": \"50 Frames (frozen)\",\n      \"slow_motion\": \"8 Frames at 0.25x speed\"\n    },\n    \"frame_progression\": {\n      \"attacker\": \"Advances 2 frames (8 * 0.25).\",\n      \"defender\": \"Stops for first 4 frames, advances 1 frame during last 4 frames.\"\n    },\n    \"net_result\": \"Attacker gains a 1-frame advantage relative to normal gameplay (Attacker moves 1F earlier).\"\n  },\n  {\n    \"id\": \"finish_zoom_frame_alteration_throws\",\n    \"name\": \"Finish Zoom Frame Advantage (Throws)\",\n    \"category\": \"Game Mechanics / Frame Data\",\n    \"description\": \"Throws handle Finish Zoom timing differently depending on whether the throw has a strike hitbox.\",\n    \"variations\": {\n      \"strike_throws\": {\n        \"trigger\": \"After last hit.\",\n        \"behavior\": \"Replaces hitstop.\",\n        \"result\": \"No change in frame advantage or coordinates.\"\n      },\n      \"pure_throws\": {\n        \"trigger\": \"1F before launch.\",\n        \"behavior\": \"Defender consumes 2F of hitstun duration but only moves 1F of coordinate distance.\",\n        \"result\": \"Defender's hitstun ends 1 frame earlier than normal (Defender advantage).\"\n      }\n    }\n  }\n]"
  },
  {
    "category": "踏み台ジャンプ",
    "axioms": "### 1. 踏み台ジャンプの発動判定 (Activation Logic)\n*   **基本条件**: 以下の論理積を満たす時、踏み台ジャンプ判定が発生する。\n    1.  **空間条件**: 自ファイターの「踏みつけ領域」 $\\cap$ 敵ファイターの「ECB（環境衝突ボックス）または踏みつけ領域」 $\\neq \\emptyset$。\n    2.  **入力条件**: ジャンプ入力（はじきジャンプON時のLスティック上継続を含む）。\n    3.  **対象条件**: 敵ファイターが「全身無敵状態」および「チームメイト」ではない。\n*   **物理制限 (Velocity Threshold)**: ジャンプ初速 $V_y$ はジャンプ回数 $n$ に応じて $V_{y\\_current} = V_{y\\_base} \\times 0.75^n$ と減衰する。$V_{y\\_current} < 0.5$ となる場合、踏み台ジャンプは発動しない。\n*   **クールタイム (Cooldowns)**:\n    *   **攻撃後**: 攻撃動作（アイテム投げ、着地隙含む。その場落とし除く）終了から $16\\text{F}$ 未満は不可。\n    *   **連続使用**: 前回の踏み台から $8\\text{F}$ 未満は不可。\n\n### 2. 優先順位と競合解決 (Priority Resolution)\n複数の判定が同時に発生した場合、プレイヤー番号 $P_{num}$ に基づき以下の順で解決される。\n*   **踏み手 (Attacker)**: 同時入力時は $P_{num}$ が**最小**のファイターが優先される。\n*   **踏まれ手 (Victim)**: 領域内に複数人いる場合は $P_{num}$ が**最大**のファイターが対象となる（アイスクライマーは本体よりオプション優先）。\n*   **入力競合 (Conflict)**: 踏み入力と攻撃移行が競合した場合の挙動。\n    *   $P_{small}$(踏み) vs $P_{large}$(攻撃) $\\rightarrow$ **モーションあり**踏み台。\n    *   $P_{large}$(踏み) vs $P_{small}$(攻撃) $\\rightarrow$ **モーションなし**踏み台。\n\n### 3. 動作分岐：モーションあり vs なし (Motion Type)\n踏み台成立時、以下の条件により挙動が分岐する。\n*   **モーションなし踏み台 (Phantom Footstool)**:\n    *   **条件**: 敵が特定アクション中（攻撃、必殺、ガード、回避、ダウン、ガケ、アイテム投擲など） OR 「空中ジャンプ + 空中攻撃」の同時入力。\n    *   **挙動**: $1\\text{F}$ 目からジャンプ開始、位置ワープなし、敵アクション継続（中断なし）、必ず大ジャンプ扱い。\n*   **モーションあり踏み台 (Standard Footstool)**:\n    *   **条件**: 上記以外（主に敵が通常待機、移動、落下中など）。\n    *   **挙動**: 敵頭上へワープ、$8\\text{F}$ の踏みつけモーション発生。\n\n### 4. モーションあり踏み台の仕様 (Standard Specs)\n*   **踏み手 (Attacker)**:\n    *   **キャンセル**: モーション $8\\text{F}$ 目を空中攻撃・必殺ワザ・アイテム投げでキャンセル可能。\n    *   **ジャンプ高度**: モーション終了時のボタン入力有無で小/大ジャンプに分岐。\n    *   **無敵**:\n        *   通常移行: モーション終了後 $1\\text{F} \\sim 4\\text{F}$ 全身無敵。\n        *   キャンセル移行: 無敵付与なし（リスク・リターンのトレードオフ）。\n    *   **攻撃補正**: 踏み台小ジャンプ後の空中攻撃はダメージ $0.85$ 倍（ただし $8\\text{F}$ 目キャンセル時は $1.0$ 倍）。\n*   **踏まれ手 (Victim)**:\n    *   **地上**: $28\\text{F}$ の硬直（踏み手キャンセルにより最大 $20\\sim21\\text{F}$ の有利フレーム）。\n    *   **空中**: $8\\text{F}$ モーション後、強制落下（移動・受け身のみ可）。ヒットストップ中の被弾はメテオ効果（落下速度増）が付与される。\n\n### 5. 固有ファイター特例 (Character Specifics)\n*   **ゼロスーツサムス (下B)**: 踏みつけモーション $3\\text{F}$、発生 $4\\text{F}$ で埋め効果。\n*   **ゼニガメ (横B)**: 「通常落下中」の敵に対し自動発動（任意ジャンプ不可）。発動後は $164\\text{F}$ の長硬直。"
  },
  {
    "category": "転倒",
    "axioms": "[\n  {\n    \"category\": \"General Mechanics\",\n    \"concept\": \"Tripping Definition\",\n    \"content\": \"転倒とは、ファイターが攻撃を受けて地面に倒れ、一定時間身動きが取れなくなる状態である。\"\n  },\n  {\n    \"category\": \"General Mechanics\",\n    \"concept\": \"Tripping Causes\",\n    \"content\": \"転倒は、「転倒属性を持つ攻撃のヒット」または「特定の条件（転倒率・吹っ飛ばし力・ベクトル）を満たしたワザのヒット」によって発生する。\"\n  },\n  {\n    \"category\": \"General Mechanics\",\n    \"concept\": \"Re-trip Cooldown\",\n    \"content\": \"一度転倒すると、その後60F経過するまでは通常のワザによる再転倒は発生しない。ただし、「転倒属性（固定）」を持つ攻撃はこの制限を無視して転倒させる。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"concept\": \"Hitstop Interaction\",\n    \"content\": \"通常、転倒モーションの1F目はヒットストップ中に消費され、ヒットストップ終了後はモーションの2F目から開始される。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"concept\": \"Hitstop Exception (Pichu)\",\n    \"content\": \"ピチューの横強攻撃など一部の例外では、敵はヒットストップを無視して転倒モーションを進行させるため、攻撃側のヒットストップ中にも拘束時間が経過し、攻撃側の有利フレームが増加する。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"concept\": \"Trip Types\",\n    \"content\": \"転倒には「小」と「大」の2種類が存在する。転倒（小）は0.0%の攻撃判定（バナナのかわ等）で発生し、転倒（大）はそれ以外の通常の攻撃で発生する。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"concept\": \"Trip Duration (Large)\",\n    \"content\": \"転倒（大）の全体フレームは39Fである。無敵は1〜5Fに付与される。実質的な拘束時間はヒットストップ中の1F消費を考慮し、38Fとして扱われる（不利フレーム = 38 - 攻撃側の後隙）。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"concept\": \"Trip Duration (Small)\",\n    \"content\": \"転倒（小）の全体フレームは29Fである。無敵は1〜5Fに付与される。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"concept\": \"Trip Getup Options\",\n    \"content\": \"転倒状態からは「その場起きあがり」「前方起きあがり」「後方起きあがり」「起きあがり攻撃」が可能である。240F入力がない場合は自動で「その場起きあがり」を行う。\"\n  },\n  {\n    \"category\": \"Frame Data\",\n    \"concept\": \"Getup Frame Data\",\n    \"content\": \"その場起きあがり：全体21F（無敵1-16F）。前方/後方起きあがり：全体28F（無敵1-9F）。起きあがり攻撃：全体49F（無敵1-7F）。\"\n  },\n  {\n    \"category\": \"Status Properties\",\n    \"concept\": \"Vulnerability\",\n    \"content\": \"転倒状態のファイターに対しては「つかみ」が確定する。また、ダウン状態には当たらない特定の判定（ミュウツー下B、リドリー下B本当て等）がヒットする。\"\n  },\n  {\n    \"category\": \"Status Properties\",\n    \"concept\": \"Item Interaction\",\n    \"content\": \"転倒状態では「倒れアイテム食べ」を行うことはできない。\"\n  },\n  {\n    \"category\": \"Probability\",\n    \"concept\": \"Additional Trip Rate\",\n    \"content\": \"敵に与える吹っ飛ばし力（KB）が55以上の場合、システムにより7.0%（(0.12+0.02)/2）の追加転倒率が付与される。\"\n  },\n  {\n    \"category\": \"Probability\",\n    \"concept\": \"Move-Specific Trip Rate\",\n    \"content\": \"ワザ固有の転倒率が設定されている場合、KBが55未満でも転倒判定を持つ。ただし、ベクトルが高すぎる場合は転倒しない。\"\n  },\n  {\n    \"category\": \"Physics\",\n    \"concept\": \"Ground Requirement\",\n    \"content\": \"転倒が発生するためには、攻撃ヒット後の敵ファイターが地上にいる必要がある（傾斜地は考慮しない）。\"\n  },\n  {\n    \"category\": \"Physics\",\n    \"concept\": \"Angle 361 Condition\",\n    \"content\": \"ベクトル361°のワザにおいて、転倒（追加転倒率7.0%）が発生する吹っ飛ばし力の範囲は $55 \\\\le \\\\text{KB} < 60$ である。KBが60を超えると転倒しなくなる。\"\n  },\n  {\n    \"category\": \"Physics\",\n    \"concept\": \"Angle 180-360 Condition\",\n    \"content\": \"ベクトル180〜360°のワザにおいて、転倒（追加転倒率7.0%）が発生する吹っ飛ばし力の範囲は $55 \\\\le \\\\text{KB} < 80$ である。KBが80以上になると倒れ吹っ飛びとなり転倒しない。\"\n  },\n  {\n    \"category\": \"Physics\",\n    \"concept\": \"Windbox Exception\",\n    \"content\": \"ノーリアクション（風判定）の攻撃では転倒は発生しない。\"\n  }\n]"
  }
]