ベクトル変更
はじめに
角度変更と速度変更
ベクトル変更
ベクトル変更の条件
スティック入力値
角度変更（DI）
速度変更（LSI）
Cスティックによるベクトル変更
最適なベクトル変更
上方向へ撃墜するワザ（75 ~ 90°）
ほぼ真横にふっとばすワザ（0 ~ 30°程度）
横方向へ撃墜するワザ（30 ~ 50°程度）
角度変更により速度変更が効くようになるワザ（70 ~ 74°）
上にも横にも撃墜するワザ（40 ~ 70°程度）
コメント



はじめに
スマブラSPから、ベクトル変更のシステムに 「ふっとびずらし」 という公式名がつけられた。
しかし多くの（特にfor以前の）プレイヤーは、「ヒットストップずらし」と区別する意味合いも込めて、依然として「ベクトル変更（ベク変）」という用語を使っている。
基本的に本wikiでは公式名に準拠しているが、このページおよび本wiki内では、「ふっとびずらし」ではなく「ベクトル変更」の名称を用いる。


角度変更と速度変更
ベクトル変更をおこなうと、「ふっとび角度」と「ふっとび速度」の両方が、同時に、変更される。
よって、このページでは''「ベクトル変更」という用語を、「 角度変更 と 速度変更 の総称」として扱う。
ベクトル変更：「角度変更」と「速度変更」の総称
　角度変更　：攻撃がヒットした後のふっとび角度を変更すること
　速度変更　：攻撃がヒットした後のふっとび速度を変更すること

プレイヤー同士の会話などでは、角度変更のみを想定して「ベクトル変更」と言うケースも多い。
また、角度変更を想定して「ずらす」という言葉が用いられる場合もあり、ヒットストップずらしとの混同には注意。




ベクトル変更
ふっとび始める瞬間に左スティックを傾けていると、その 向き と 量 に応じてファイターのふっとび角度とふっとび速度をある程度変更することができる。
これを、 ベクトル変更（ベク変、ふっとびずらし） と呼ぶ。

ベクトル変更は、 「角度変更」 (DI, Directional Influence)と 「速度変更」 (LSI, Launch Speed Influence)の2つに分けて扱うことができる。
ベクトル変更が行われた際は基本的に 角度変更と速度変更が同時に行われ、 これらの計算にはまったく同じスティック入力値が用いられる。

ベクトル変更に使用される入力値は、ヒットストップ終了の1F後（ふっとび始める瞬間）の左スティックの入力のみ。
これは、一部のワザに設定されている青いズームイン演出が起きた場合も同様。
ただし、 最終ストック時の赤い撃墜演出の場合はふっとび始める瞬間ではない。
正確な検証はできていないが、おそらく通常のヒットストップ終了の1F後と同じタイミング。

また、ヒットストップ中に左スティックが入力されていると青い矢印のグラフィックが出現する。
これはベクトル変更（角度変更）後のふっとび角度を示しており、左スティックの入力に応じてグラフィックの向きも変化する。
なお、ヒットストップ中に一度もスティック入力をおこなわなかった場合にはグラフィックは出現しないが、一度出現したあとはスティックをニュートラルにしても出現したままとなる。


ベクトル変更の条件
ベクトル変更が可能となるのは、以下の条件をすべて満たしたときである。
ただし、速度変更が可能となるのは速度変更後のふっとび角度が65°未満の場合のみ。*1
ふっとばし力が80KBよりも大きい（倒れふっとびでふっとぶ）
ふっとび角度が0.17 rad (約9.74°)より大きい
ふっとび後のキャラクターが空中にいる
1は、倒れふっとびになるための条件。 立ちふっとびではベクトル変更することはできない。
2は、角度変更によってすぐに地面に接触することを禁止するための条件。
3は、地面に沿いながらふっとんでいる際に角度変更できないようにするための条件。


スティック入力値
角度変更計算には スティックの入力角度 が使われるのに対し、速度変更計算には スティックのY入力値 が使われる。

重要なのは、 コントローラーの種類によって入力できる限界のY入力値が異なる という点である。
例えば、左スティックをめいっぱい下に入力した場合でも 「GCコンでは撃墜しないがJoy-Conでは撃墜する」といった現象が起こりうる。
これは、Joy-Conが入力できる限界のY入力値（の絶対値）がGCコンよりも小さいためである。

したがって、コントローラーによってはスティックの動きを制限しているガワの部分を削ることで速度変更を効きやすくすることが可能。
また、速度変更の際に利用機会の多い-60°付近に切り目を入れておく(Notching)というのも手。
これは主だった大会で禁止されているわけでもなく、特にDXでは競技的にも広く容認されている行為ではあるが、 あくまで自己責任で。

なお、スティックの入力には他にもいくつか制限があるため、最適な入力を目指す人は 「スティック閾値（for検証wiki）」 も参照するとよい。


角度変更（DI）
倒れふっとびになるダメージを受けたとき、 ふっとぶ直前のスティックの入力角度 に応じて角度変更の度合いが決定される。
なお、変更前のふっとび角度は重力補正による計算をおこなった後のもの。
したがって、厳密には攻撃判定に設定されている「ベクトル」とは異なるものだが、影響は極めて小さいので基本的に無視してよい。

角度変更が最大となるのは ふっとび角度に対して垂直にスティックを傾けたとき であり、このときふっとび角度は0.17 rad = 約9.74°変更される。

なお、計算は「度数法（度, degrees, °, deg）」ではなく「弧度法（ラジアン, radians, rad, 180° = π rad）」で行われるため、このページにおける計算も基本的には弧度法で記述する。


角度変更（DI）の計算
角度変更により変更される角度の大きさαを式として表すと、以下のようになる。
α = 0.17 * |Xスティック入力値 * Y方向ふっとび初速 - Yスティック入力値 * X方向ふっとび初速| / ふっとび初速 [rad]

0 ~ 90°の範囲で考えれば、以下のように簡単になる。
θは重力補正計算後のふっとび角度。
α = 0.17 * (StickX * sin θ - StickY * cos θ) [rad]

なお、StickXおよびStickYは0.2未満の値を取ることができない。
この仕様により、ふっとび角度が90°に近いワザ（ちょうど90°は除く）などでは最大変更角度の0.17 radを実現できない。


速度変更（LSI）
倒れふっとびになるダメージを受けたとき、 ふっとぶ直前のYスティック入力値 に応じて速度変更の度合いが決定される。
なお、速度変更が有効となるのはベクトル変更後のふっとび角度が65°未満の場合のみである。

速度変更（LSI）の計算
スティックの入力に上成分があれば速度が最大で1.095倍まで増加し、下成分があれば速度が最大で0.92倍まで減少する。
速度変更倍率の計算式は以下の通り。
速度変更倍率(増加時) = 1 + 0.095 * StickY 　  (StickY > 0)
速度変更倍率(減少時) = 1 - 0.08 * (-StickY)   (StickY < 0)




Cスティックによるベクトル変更
ベクトル変更は、Cスティックを利用しても行うことができる。
しかし、 結論から言えばCスティックでベクトル変更を行うメリットは無い （と思われる）。

第一に、Cスティックのスティック方向入力成分は4Fのあいだだけしか認識されない。
したがって、Cスティックを倒してから5F以上経過してからふっとびが開始した場合にはベクトル変更することができない。

第二に、Cスティックによる最大入力値が左スティックのそれよりも小さい。
これにより、Cスティックを目一杯倒した場合でも左スティックと比べて速度変更できる量が小さくなってしまう。
ちなみに、Cスティックがスマッシュのときよりも攻撃のときの方が最大入力値が小さい。

なお、Cスティックと左スティックを同時に倒されていると認識されている場合は、それらのスティック入力値の中間の値を用いる（と思われる）。
まったく同時に入力を開始した場合はCスティックの入力が無視され、左スティックの入力のみが認識される。




最適なベクトル変更
角度変更と速度変更で参照されるスティック入力は共通である。
したがって、 最適なベクトル変更は角度・速度変更の丁度良いバランスの下に成り立つ。

「最適なベクトル変更」には以下の2タイプがある。
撃墜を避けるためのベクトル変更（Survival DI）
コンボから逃れるためのベクトル変更（Combo DI）
この項では、前者の 撃墜を避けるためのベクトル変更のみを考える。


上方向へ撃墜するワザ（75 ~ 90°）
基本的に、 ふっとび角度が浅くなるよう真横にスティックを倒すのが最適解 となる。
例えば、ふっとび角度が80°なら真右、100°なら真左に倒せばいい。

ふっとび角度の大きい攻撃では速度変更が効かないので、 角度変更の効果を最大にすることだけを考えればよい。
また、スティックの入力には上下左右4方向から少しずれた角度の入力は全て真上・真横・真下に補正されるという仕様がある。
この仕様により、例えばふっとび角度が80°の場合、スティックの角度が-10°でも0°でも角度変更の効果はまったく同じとなるため、真横に入力するだけで最大の角度変更を行うことができる。

ベク変ミス狙い（DI Mixup）
敵ファイターと自ファイターとの位置関係によって、ふっとぶ角度が異なるワザというものが存在する。
例えばジョーカーの上空中攻撃（80°）では、自ファイターの位置がジョーカーより前にあるときは80°にふっとぶが、後ろにあるときは100°にふっとぶ。
このようなワザでは、80°にふっとぶと予測してスティックを真右に倒すと、100°にふっとんだ際にほぼ真上にふっとんでしまいかなり少ない蓄積ダメージで撃墜されてしまう。

また、ワザによっては敵側の横移動によってどちらにふっとばすのかを任意に選択できる場合もある。
撃墜されない状況でふっとぶ方向の判断に困る場合は、わざと無入力するという手も有効。

上方向に撃墜するワザのふっとぶ方向
上方向に撃墜するワザについては、基本的に「敵から遠ざかる方向（外）」にベクトル変更するとよい。

ただし、以下の例外もあるので注意。
ベクトル変更の左右方向を誤るだけで数％早く撃墜してしまうことも珍しくないため、基本的には覚えておくとよい。

最終更新はVer.10.0.0。
上強攻撃
敵に近づく方向（内）：
　　　　　　　　　　　
敵が向いている方向　：

上スマッシュ攻撃
敵に近づく方向（内）：
　　　　　　　　　　　
敵が向いている方向　：
　　　　　　　　　　　

上空中攻撃
敵に近づく方向（内）：
敵が向いている方向　：
敵が向いていない方向：

上投げ
敵が向いていない方向：


ほぼ真横にふっとばすワザ（0 ~ 30°程度）
ほぼ真横にふっとばすワザは、ふっとび速度を下げるために斜め下方向にスティックを倒した場合に、撃墜%が最も高くなる。
この場合、ファイターは通常よりも下方向にふっとぶこととなる。
したがって、復帰が強くないファイターでは、「撃墜は免れたものの復帰できない」ということも起こり得る。
復帰が弱めのファイターでは、斜め下にベク変しても結局復帰できないことを考えれば、真横入力（もしくは斜め上）すればよい。

斜め下入力が有用となるのは、約33°以下のベクトルを有するワザに対してのみ。
ただし、30 ~ 33°のベクトルを有するワザに対しては大きな効力がなく（撃墜までの距離にも依存する）、特に30°以下のワザで有用となる。

33°以下のベクトルを有する下スマッシュ攻撃一覧
+
開く

33°以下のベクトルを有する下スマッシュ攻撃以外のワザ一覧
+
開く


横方向へ撃墜するワザ（30 ~ 50°程度）
基本的に、 ステージに向かって真横にスティックを倒すのが最適解 となる。
ただし、復帰力のかなり弱いファイターでは、「撃墜は免れたものの復帰できない」ということも起こり得る。

また、横への撃墜ラインが十分に広い状況で攻撃がヒットした場合などは、真横に倒すと上撃墜してしまう。
このような場合は、ステージ内側へ向かって斜め下（-45°など）にスティックを倒すとよい。

通常、角度変更で撃墜ラインの隅に移動しようすると、 スティック上成分による速度変更のデメリットが打ち勝ってしまう。
反対に、速度を下げるためにスティック下成分を入れるとふっとび角度が低くなってしまうため、やはり撃墜されやすくなる。

なお、基本的に少しでも高い位置から行動開始したほうが復帰しやすいため、撃墜されない程度に高めになるように角度変更するという手も有効。


角度変更により速度変更が効くようになるワザ（70 ~ 74°）
基本的に、 斜め外下方向にスティックを倒すのが最適解 となる。
およそ68°以下の場合は真下入力が上方向への撃墜を避けるための最適解となるが、横撃墜ラインまで十分な距離（終点中心程度）がないと横撃墜する可能性が高い。
ベクトル	スティック方向の目安
68°以下	-90° (真下)
69 ~ 71°	-60°程度 (中間)
72 ~ 74°	-45° (斜め下)

解説
ベクトルが70°前後のワザは、 角度変更をして初めて速度変更が効くようになる。
よって、角度変更によりふっとび角度を65°未満に変更して速度変更を有効にすることで、かなり撃墜から逃れやすくなる。

本来、最大に角度変更できるのは-20°方向の入力だが、 この入力角度では速度変更がほとんど起こらない。
反対に、最大に速度変更できる-90°方向の入力では、 角度変更が十分でなく速度変更が有効になる角度まで達しない。
そこで-60°付近に入力し、角度変更をそこそこにしてなるべくふっとび速度減少を狙うと、最も長く生き延びることができる。

ベク変の効果
ふっとび角度を65°未満に変更できる範囲で、 いかにスティックのY入力値を下げられるかが重要になる。

下表は、終点でマリオにOPボーナスありのワザをヒットさせたときの撃墜%のしきい値。
ベクトル	ワザ	スティック方向
無し	0°	-30°	-45°	-60°	-90°
65°	
ダッシュ攻撃 *2	165%	181%	181%	197%	196%	196%
70°	
上投げ	131%	143%	153%	159%	162%	135%
74°	
通常必殺ワザ	133%	142%	148%	155%	138%	135%

対象となるワザ
ベクトルが70 ~ 74° (106 ~ 110°)に設定されている主なワザ。
かなり大雑把に分類したため、後述の「ベクトルが70 ~ 74°に設定されているワザ一覧」も一度見ておくとよい。
ファイター	ワザ	対象の判定	ベクトル
	後投げ
（リフティング）	-	72
	上空中攻撃	-	70
	上スマッシュ攻撃
下必殺ワザ	-
左右の判定のみ	110
70
	上空中攻撃	〆	73
	上空中攻撃	-	70
	下空中攻撃	本当て	70
	ダッシュ攻撃	本当て	70
	上必殺ワザ	〆	70
	上投げ	-	73
	上投げ	-	70
	下必殺ワザ	-	70
	上空中攻撃 *3	〆, 前方
〆, 後方	110
70
	上空中攻撃	-	72
	上空中攻撃
（チコ）	-	108
	ダッシュ攻撃	本当て	70
	百裂攻撃	〆	74
	横必殺ワザ	強, 前方	70
	上必殺ワザ	最終段	70
	上空中攻撃
下投げ	-	70
70
	通常必殺ワザ	-	74
	横必殺ワザ	エイガオン, 〆	73
	パワーゲイザー	-	70
	上投げ	-	73
	上空中攻撃	-	106 *4
	上空中攻撃	〆	72

+
ベクトルが70 ~ 74°に設定されているワザ一覧


上にも横にも撃墜するワザ（40 ~ 70°程度）
ベクトルが40 ~ 70°程度に設定されているワザは、ベクトル変更次第で上にも横にも撃墜してしまう。
このようなワザでは、自ファイターの位置（撃墜ラインからの距離）と攻撃判定のベクトルの2つを考慮し、シチュエーション毎に応じたベクトル変更を選択する必要がある。

内入力すると上撃墜	下入力すると横撃墜	入力方向
しない	しない	ステージ内側へ向かって真横にスティックを倒す。
しない	する	ステージ内側へ向かって真横にスティックを倒す。
する	しない	真下にスティックを倒す。
横撃墜ラインから十分に遠く、かつ上撃墜ラインに十分に近い場合は 外下にスティックを倒す。
する	する	各撃墜ラインからの距離とワザのベクトルによって変化する。
多くの場合は、 ステージ内側へ向かって斜め下にスティックを倒す。

終点でマリオにOPボーナスありのゼロスーツサムスの地上上必殺ワザをヒットさせたときの撃墜%のしきい値。
撃墜%下のカッコ内は撃墜する方向を表す。
ベクトル	スティック方向
-180°	-135°	-90°	-45°
崖端（近）	86%
（上）	85%
（横）	76%
（横）	-
初期位置（近）	86%
（上）	109%
（横）	101%
（横）	-
初期位置（遠）	-	110%
（上）	138%
（横）	126%
（横）
